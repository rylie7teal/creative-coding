(()=>{var __webpack_modules__={839:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("\n;// CONCATENATED MODULE: ./js/lib/dom-component.js\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nclass DomComponent {\n  constructor($domElement) {\n    _defineProperty(this, \"$domElement\", void 0);\n    if (!$domElement) {\n      return;\n    }\n    this.$domElement = $domElement;\n    this.$domElement.classList.add('js');\n    [this.baseCSSClass] = this.$domElement.classList;\n  }\n  loaded() {\n    this.$domElement.classList.add('js-loaded');\n  }\n  find(selector, keepAsArray = false) {\n    const found = this.findAll(selector);\n    if (!found) {\n      return false;\n    }\n    if (keepAsArray === false) {\n      return found.length > 1 ? found : found[0];\n    }\n    return found;\n  }\n  findAll(selector) {\n    const found = this.$domElement.querySelectorAll(selector);\n    if (found && found.length) {\n      return Array.from(found);\n    }\n    return found;\n  }\n}\n;// CONCATENATED MODULE: ./js/lib/each.js\nfunction each(nodeList, cb) {\n  if (!nodeList || !nodeList.length) {\n    return;\n  }\n  for (let i = 0; i < nodeList.length; i++) {\n    cb(nodeList[i], i);\n  }\n}\n;// CONCATENATED MODULE: ./js/lib/const.js\nconst mqMap = {\n  xs: 480,\n  sm: 768,\n  md: 1094,\n  lg: 1280,\n  xl: 1690,\n  navDesktop: 1690\n};\nconst duration = 400;\nconst durationLong = 700;\nconst $ = window.jQuery;\n;// CONCATENATED MODULE: ./blocks/image-gallery/image-gallery.block.js\nfunction image_gallery_block_defineProperty(e, r, t) { return (r = image_gallery_block_toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction image_gallery_block_toPropertyKey(t) { var i = image_gallery_block_toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction image_gallery_block_toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\nlet activeLightboxLink = null;\nclass ImageGallery extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    image_gallery_block_defineProperty(this, \"_index\", null);\n    image_gallery_block_defineProperty(this, \"_visibleThumbnails\", 4);\n    image_gallery_block_defineProperty(this, \"_gridGap\", 16);\n    setTimeout(() => {\n      this.init();\n      this.loaded();\n    }, 100);\n  }\n  get index() {\n    return this._index;\n  }\n  set index(newIndex) {\n    if (newIndex >= this.$slides.length) {\n      newIndex = 0;\n    }\n    if (newIndex < 0) {\n      newIndex = this.$slides.length - 1;\n    }\n    const transformValueX = newIndex * -100;\n\n    // we add one to the new index so we don't show the currently displayed image in the list of thumbnails. But rather the next imagae in the sequence\n\n    this.$slideshowTrack.style.transform = `translateX(${transformValueX}%)`;\n    if (this.$slides.length > this._visibleThumbnails) {\n      if (newIndex + 1 + this._visibleThumbnails <= this.$slides.length) {\n        const transformValueY = (newIndex + 1) * -(this.$thumbnail[0].offsetHeight + this._gridGap);\n        this.$thumbnailTrack.style.transform = `translateY(${transformValueY}px)`;\n      } else {\n        const maxTransform = (this.$slides.length - this._visibleThumbnails) * -(this.$thumbnail[0].offsetHeight + this._gridGap);\n        this.$thumbnailTrack.style.transform = `translateY(${maxTransform}px)`;\n      }\n    }\n    if (this.index != null) {\n      this.$pages[this.index].classList.remove('active');\n    }\n    this.$pages[newIndex].classList.add('active');\n    this.showDescription(newIndex);\n    this._index = newIndex;\n  }\n  init() {\n    this.resize = null;\n    this.$slides = this.find('[js-slide]');\n    this.$thumbnailsContainer = this.find('[js-thumbnails-container]');\n    this.$thumbnailTrack = this.find('[js-thumbnail-track]');\n    this.$slideshowTrack = this.find('[js-slideshow-track]');\n    this.$thumbnail = this.find('[js-thumbnail]');\n    this.$nextSlide = this.find('[js-next]');\n    this.$previousSlide = this.find('[js-prev]');\n    this.$descriptions = this.find('[js-description]');\n    this.$descriptonContainer = this.find('[js-description-container]');\n    this.$pages = this.find('[js-page]');\n    this.translateY = 0;\n    this.setupListeners();\n    this.initializeGallery();\n  }\n  setupListeners() {\n    this.$nextSlide.addEventListener('click', () => {\n      this.index++;\n    });\n    this.$previousSlide.addEventListener('click', () => {\n      this.index--;\n    });\n    each(this.$slides, slide => {\n      if (slide.querySelector('a')) {\n        let link = slide.querySelector('a');\n        link.addEventListener('click', this.openLightbox.bind(this));\n      }\n    });\n    window.addEventListener('keydown', this.escLightbox.bind(this));\n    each(this.$thumbnail, thumbnail => {\n      thumbnail.addEventListener('click', this.thumbnailClick.bind(this));\n    });\n    window.addEventListener('resize', () => {\n      this.$thumbnailsContainer.height = 'auto';\n      this.$domElement.classList.remove('ready');\n      clearTimeout(this.resize);\n      this.resize = setTimeout(() => {\n        this.initializeGallery();\n      }, 50);\n    });\n  }\n  initializeGallery() {\n    let count = this.$thumbnailTrack.children.length;\n    while (count < 4) {\n      const placeholder = document.createElement('div');\n      placeholder.className = 'image-gallery__slideshow__thumbnail';\n      this.$thumbnailTrack.append(placeholder);\n      count++;\n    }\n    this.$thumbnailsContainer.style.height = `${this.$slideshowTrack.offsetHeight}px`;\n    this.$domElement.classList.add('ready');\n    this.createLightbox();\n    if (this.index === null) {\n      this.index = 0;\n    }\n  }\n  thumbnailClick(e) {\n    this.index = this.getIndex(e.currentTarget);\n  }\n  getIndex(elem) {\n    let i = 0;\n    while ((elem = elem.previousElementSibling) != null) ++i;\n    return i;\n  }\n  showDescription(newIndex) {\n    if (this.$descriptions[this.index] != null) {\n      this.$descriptions[this.index].classList.remove('active');\n    }\n    const height = this.$descriptions[newIndex].offsetHeight;\n    this.$descriptonContainer.style.height = `${height}px`;\n    this.$descriptions[newIndex].classList.add('active');\n  }\n\n  /**\r\n   * All code below implements various lightbox features\r\n   */\n\n  createLightbox() {\n    if (document.querySelectorAll('.lightbox-container').length >= 1) {\n      return false;\n    }\n    const lbcontainer = document.createElement('div');\n    lbcontainer.classList.add('lightbox-container');\n    lbcontainer.setAttribute('role', 'dialog');\n    lbcontainer.setAttribute('aria-labelledby', 'lightbox-title');\n    lbcontainer.setAttribute('aria-describedby', 'lightbox-content');\n    lbcontainer.setAttribute('aria-hidden', 'true');\n    const lb = document.createElement('div');\n    lb.classList.add('lightbox');\n    const lbFig = document.createElement('figure');\n    lbFig.classList.add('lightbox-figure');\n    const lbCaption = document.createElement('figcaption');\n    lbCaption.classList.add('lightbox-description');\n    const lbTitle = document.createElement('h3');\n    lbTitle.id = 'lightbox-title';\n    const lbContent = document.createElement('div');\n    lbContent.id = 'lightbox-content';\n    const lbImage = document.createElement('div');\n    lbImage.classList.add('lightbox-image');\n    const lbClose = document.createElement('button');\n    lbClose.classList.add('close-lightbox');\n    lbClose.setAttribute('aria-label', 'Close Lightbox');\n    lbClose.addEventListener('click', this.closeLightbox.bind(this));\n    const lbCloseText = document.createElement('i');\n    lbCloseText.classList.add('iconoir-cancel');\n    const lbCloseSRText = document.createElement('span');\n    lbCloseSRText.classList.add('screen-reader-text');\n    lbCloseSRText.innerText = 'Close this lightbox';\n    lbClose.appendChild(lbCloseText);\n    lbClose.appendChild(lbCloseSRText);\n    lbCaption.appendChild(lbTitle);\n    lbCaption.appendChild(lbContent);\n    lbFig.appendChild(lbImage);\n    lbFig.appendChild(lbCaption);\n    lb.appendChild(lbFig);\n    lb.appendChild(lbClose);\n    lbcontainer.appendChild(lb);\n    document.body.appendChild(lbcontainer);\n  }\n  advanceLightbox() {\n    this.index++;\n    this.shiftLightbox();\n  }\n  previousLightbox() {\n    this.index--;\n    this.shiftLightbox();\n  }\n  shiftLightbox() {\n    const thumb = this.$thumbnail[this.index];\n    const thumbImg = thumb.querySelector('img');\n    let thumbSrc = thumbImg.src;\n    thumbSrc = thumbSrc.replace('http:', '');\n    thumbSrc = thumbSrc.replace('https:', '');\n    const activeSlide = this.$slides[this.index];\n    const link = activeSlide.querySelector('a');\n    this.openLightbox(link);\n  }\n  createLightboxNav(thumbs) {\n    if (document.querySelectorAll('[js-lightbox-prev]') >= 1) {\n      return;\n    }\n    const lb = document.querySelector('.lightbox-container .lightbox');\n    const lbNav = document.createElement('div');\n    lbNav.classList.add('lightbox-nav');\n    const lbPrev = document.querySelector('button[js-prev]').cloneNode(true);\n    const lbNext = document.querySelector('button[js-next]').cloneNode(true);\n    lbPrev.removeAttribute('js-prev');\n    lbPrev.setAttribute('js-lightbox-prev', '');\n    lbPrev.addEventListener('click', this.previousLightbox.bind(this));\n    lbNext.removeAttribute('js-next');\n    lbNext.setAttribute('js-lightbox-next', '');\n    lbNext.addEventListener('click', this.advanceLightbox.bind(this));\n    lbNav.appendChild(lbPrev);\n    lbNav.appendChild(lbNext);\n    lb.appendChild(lbNav);\n  }\n  openLightbox(e) {\n    let el = e;\n    if (e.preventDefault) {\n      e.preventDefault();\n      el = e.target;\n    }\n    if (document.querySelectorAll('.lightbox-container').length <= 0) {\n      this.createLightbox();\n    }\n    let clickedLink = null;\n    if ('a' === el.tagName) {\n      clickedLink = el;\n    } else {\n      clickedLink = el.closest('a');\n    }\n    activeLightboxLink = clickedLink;\n    const lightbox = document.querySelector('.lightbox-container');\n    const lbTitle = lightbox.querySelector('#lightbox-title');\n    const lbContent = lightbox.querySelector('#lightbox-content');\n    const lbImage = lightbox.querySelector('.lightbox-image');\n    const lbClose = lightbox.querySelector('.close-lightbox');\n    const gallery = el.closest('.image-gallery__slideshow');\n    const thumbs = gallery.querySelectorAll('.image-gallery__slideshow__thumbnails__track button.image-gallery__slideshow__thumbnail');\n    if (thumbs.length >= 1) {\n      this.createLightboxNav(thumbs);\n    }\n    const description = this.$descriptions[this.index];\n    const title = description.querySelector('.image-gallery__description__header');\n    const caption = description.querySelector('.image-gallery__description__summary');\n    const image = clickedLink.querySelector('img');\n    if (typeof title !== 'undefined' || typeof caption !== 'undefined') {\n      if (typeof title !== 'undefined') {\n        lbTitle.innerHTML = title.innerHTML;\n      } else {\n        lbTitle.innerHTML = '';\n      }\n      if (typeof caption !== 'undefined') {\n        lbContent.innerHTML = caption.innerHTML;\n      } else {\n        lbContent.innerHTML = '';\n      }\n      lightbox.querySelector('.lightbox-description').classList.add('active');\n    }\n    let imgSrc = '';\n    if (clickedLink.href.indexOf('uploads') >= 0) {\n      imgSrc = clickedLink.href;\n    } else {\n      imgSrc = image.getAttribute('src');\n    }\n    lbImage.style.backgroundImage = 'url(' + imgSrc + ')';\n    lightbox.setAttribute('aria-hidden', 'false');\n    lightbox.classList.add('open');\n    lbClose.focus();\n    this.trapFocus(lightbox);\n    return false;\n  }\n  escLightbox(e) {\n    if (document.querySelectorAll('.lightbox-container.open').length <= 0) {\n      return;\n    }\n    switch (e.key) {\n      case 'Esc':\n      case 'Escape':\n        document.querySelector('.close-lightbox').click();\n        break;\n      default:\n        return;\n    }\n  }\n  closeLightbox(e) {\n    const lightbox = e.target.closest('.lightbox-container');\n    lightbox.setAttribute('aria-hidden', 'true');\n    lightbox.classList.remove('open');\n    activeLightboxLink.focus();\n    return false;\n  }\n  trapFocus(element) {\n    var focusableEls = element.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])');\n    var firstFocusableEl = focusableEls[0];\n    var lastFocusableEl = focusableEls[focusableEls.length - 1];\n    var KEYCODE_TAB = 9;\n    element.addEventListener('keydown', function (e) {\n      var isTabPressed = e.key === 'Tab' || e.keyCode === KEYCODE_TAB;\n      if (!isTabPressed) {\n        return;\n      }\n      if (e.shiftKey) /* shift + tab */{\n          if (document.activeElement === firstFocusableEl) {\n            lastFocusableEl.focus();\n            e.preventDefault();\n          }\n        } else /* tab */{\n          if (document.activeElement === lastFocusableEl) {\n            firstFocusableEl.focus();\n            e.preventDefault();\n          }\n        }\n    });\n  }\n}\n;// CONCATENATED MODULE: ./js/lib/delay.js\nfunction delay(duration) {\n  return new Promise(resolve => {\n    setTimeout(() => resolve(), duration);\n  });\n}\n;// CONCATENATED MODULE: ./blocks/pull-quotes/pull-quotes.block.js\nfunction pull_quotes_block_defineProperty(e, r, t) { return (r = pull_quotes_block_toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction pull_quotes_block_toPropertyKey(t) { var i = pull_quotes_block_toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction pull_quotes_block_toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\nclass Carousel extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    pull_quotes_block_defineProperty(this, \"_index\", 0);\n    pull_quotes_block_defineProperty(this, \"_activeSlide\", null);\n    this.isAnimating = false;\n    setTimeout(() => {\n      this.init();\n      this.loaded();\n    });\n  }\n  get index() {\n    return this._index;\n  }\n  set index(newIndex) {\n    if (newIndex === this.$slides.length) {\n      newIndex = 0;\n    }\n    this.$activeSlide = this.$slides[newIndex];\n    this._index = newIndex;\n  }\n  get $activeSlide() {\n    return this._activeSlide;\n  }\n  set $activeSlide(newSlide) {\n    if (this.$activeSlide) {\n      this.animateSlide(newSlide, () => {\n        this.isAnimating = false;\n        this._activeSlide = newSlide;\n      });\n      // this.$activeSlide.classList.remove('active');\n    } else {\n      newSlide.classList.add('active');\n      this._activeSlide = newSlide;\n    }\n  }\n  init() {\n    this.$slides = this.findAll('[js-slide]');\n    if (!this.$slides.length) {\n      return;\n    }\n    this.$carousel = this.find('[js-carousel]');\n    this.$nextButton = this.findAll('[js-next-button]');\n    this.attachEvents();\n    this.initCarousel();\n  }\n  attachEvents() {\n    each(this.$nextButton, button => {\n      button.addEventListener('click', this.goToNextStory.bind(this));\n    });\n    window.addEventListener('resize', this.reset.bind(this));\n  }\n  goToNextStory() {\n    if (this.isAnimating) return;\n    this.isAnimating = true;\n    this.index++;\n  }\n  initCarousel() {\n    if (!this.$activeSlide) {\n      this.$activeSlide = this.$slides[0];\n    }\n    this.$carousel.style.height = `${this.$activeSlide.children[0].offsetHeight}px`;\n    this.$activeSlide.classList.remove('preload');\n  }\n  animateSlide(newSlide, cb) {\n    Promise.resolve().then(() => this.$activeSlide.classList.add('transition-out'))\n    // .then(() => this._activeSlide = newSlide)\n    .then(() => delay(durationLong)).then(() => {\n      this.$activeSlide.classList.remove('active');\n      newSlide.classList.add('active');\n      this.$carousel.style.height = `${newSlide.children[0].offsetHeight}px`;\n    }).then(() => delay(durationLong)).then(() => newSlide.classList.remove('transition-out')).then(() => delay(durationLong)).then(() => cb());\n  }\n  reset() {\n    setTimeout(() => {\n      this.initCarousel();\n    }, durationLong);\n  }\n}\n;// CONCATENATED MODULE: ./js/lib/mq.js\n\nfunction mq(breakpoint, direction = 'min-width') {\n  if (mqMap.hasOwnProperty(breakpoint)) {\n    breakpoint = mqMap[breakpoint] + 'px';\n  }\n  if (mqMap.hasOwnProperty(direction)) {\n    breakpoint = [breakpoint];\n    breakpoint.push(mqMap[direction] + 'px');\n  }\n  let query;\n  if (typeof breakpoint === 'string') {\n    query = `(${direction}: ${breakpoint})`;\n  } else {\n    query = `(min-width: ${breakpoint[0]}) and (max-width: ${breakpoint[1]})`;\n  }\n  return window.matchMedia(query).matches;\n}\n;// CONCATENATED MODULE: ./js/components/sidebar-accordion.js\n\nclass SidebarAccordion {\n  constructor(trigger, useMaxHeight = false) {\n    this.trigger = trigger;\n    this.propertyToUse = useMaxHeight ? 'maxHeight' : 'height';\n    this.expandableSection = this.trigger.nextElementSibling;\n    this.height = this.expandableSection.offsetHeight;\n    this.expanded = false;\n    if (!mq('md')) {\n      if (!this.trigger.classList.contains('default')) {\n        this.expandableSection.style[this.propertyToUse] = 0;\n      } else {\n        this.trigger.classList.add('open');\n        this.expanded = true;\n        this.expandableSection.style[this.propertyToUse] = `${this.height}px`;\n      }\n    }\n    this.trigger.addEventListener('click', this.triggerClick.bind(this));\n    window.addEventListener('resize', this.resize.bind(this));\n  }\n  triggerClick() {\n    if (mq('md')) {\n      return;\n    }\n    if (this.expanded) {\n      this.expandableSection.style[this.propertyToUse] = 0;\n      this.expandableSection.style.pointerEvents = 'none';\n      this.trigger.classList.remove('open');\n    } else {\n      this.expandableSection.style[this.propertyToUse] = `${this.height}px`;\n      this.expandableSection.style.pointerEvents = 'all';\n      this.trigger.classList.add('open');\n    }\n    this.expanded = !this.expanded;\n  }\n  resize() {\n    if (!mq('md')) {\n      this.expanded = false;\n      this.expandableSection.style[this.propertyToUse] = 0;\n      this.trigger.classList.remove('open');\n    } else {\n      this.expandableSection.style[this.propertyToUse] = `auto`;\n    }\n  }\n}\n;// CONCATENATED MODULE: ./sidebar/sidebar.js\n\n\nclass Sidebar extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    setTimeout(() => {\n      this.init();\n      this.loaded();\n    });\n  }\n  init() {\n    this.$accordionTrigger = this.find('[js-accordion-trigger]');\n    this.accordion = new SidebarAccordion(this.$accordionTrigger);\n  }\n}\n;// CONCATENATED MODULE: ./js/lib/on-load.js\nfunction onLoad(cb, onDOMContentLoad = true) {\n  if (onDOMContentLoad === true) {\n    if (document.readyState === 'complete' || document.readyState === 'loaded') {\n      cb();\n    } else {\n      window.addEventListener('DOMContentLoaded', cb);\n    }\n  } else {\n    if (document.readyState === 'complete') {\n      cb();\n    } else {\n      window.addEventListener('load', cb);\n    }\n  }\n}\n;// CONCATENATED MODULE: ./js/lib/register-module.js\n\n\nconst registerModule = (selector, ComponentClass, onDOMContentLoad = false) => {\n  onLoad(() => {\n    const domNodes = document.querySelectorAll(`[data-module=\"${selector}\"]`);\n    if (domNodes.length === 0) {\n      return;\n    }\n    each(domNodes, domElement => new ComponentClass(domElement));\n  }, onDOMContentLoad);\n};\n/* harmony default export */ const register_module = (registerModule);\n;// CONCATENATED MODULE: ./blocks/featured-content/featured-news.js\nconst setOffsets = els => {\n  els.forEach(el => {\n    let offset = [];\n    if (el.querySelectorAll('.umw-featured-news-card__main__content').length > 0) {\n      console.log('Looking at the old style news cards for offset info');\n      const text = el.querySelector('.umw-featured-news-card__main__content');\n      const image = el.querySelector('.umw-featured-news-card__main__image');\n      offset = [text.getBoundingClientRect().height, image.getBoundingClientRect().height / 2, parseInt(window.getComputedStyle(image).getPropertyValue('margin-bottom'))];\n    } else if (el.querySelectorAll('news-card').length > 0) {\n      console.log('Looking at News Card components for offset info');\n      const text = el.querySelector('news-card').shadowRoot.querySelector('.umw-news-card__content');\n      const image = el.querySelector('news-card').shadowRoot.querySelector('.umw-news-card__article-image');\n      offset = [text.getBoundingClientRect().height, image.getBoundingClientRect().height / 2, parseInt(window.getComputedStyle(text).getPropertyValue('padding-top'))];\n    }\n    console.log('Offset info looks like: ');\n    console.log(offset);\n    offset = offset.reduce((prev, cur) => prev + cur, 0);\n    console.log('Preparing to set offset to ' + offset);\n    el.style.setProperty('--bg-offset', `${offset}px`);\n  });\n};\nconst mobileMQ = window.matchMedia('(max-width: 1093px)');\nlet timeout = 0;\n/* harmony default export */ const featured_news = (() => {\n  let featuredNewsCards = Array.from(document.querySelectorAll('.umw-featured-news-card'));\n\n  // Only need cards that have a Heading and See More inside.\n  featuredNewsCards = featuredNewsCards.filter(item => item.querySelector('.umw-heading-and-see-more'));\n  const setAllOffsets = setOffsets.bind(null, featuredNewsCards);\n  setAllOffsets();\n  window.addEventListener('load', setAllOffsets);\n  window.addEventListener('resize', () => {\n    window.clearTimeout(timeout);\n    if (mobileMQ.matches) {\n      window.setTimeout(setAllOffsets, 200);\n    }\n  });\n});\n;// CONCATENATED MODULE: ./js/components/expandable.js\nfunction expandable_defineProperty(e, r, t) { return (r = expandable_toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction expandable_toPropertyKey(t) { var i = expandable_toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction expandable_toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nclass Expandable {\n  constructor(el, amount = 20) {\n    expandable_defineProperty(this, \"_width\", void 0);\n    this.el = el;\n    this.amount = amount;\n    window.addEventListener('resize', this.initializeWidth.bind(this));\n    this.initializeWidth();\n    this.el.addEventListener('mouseover', this.mouseover.bind(this));\n    this.el.addEventListener('mouseout', this.mouseout.bind(this));\n    window.addEventListener('resize', () => {\n      this.el.style.width = `auto`;\n      setTimeout(() => {\n        this.initializeWidth();\n        this.el.style.width = `${this.width}px`;\n      }, 10);\n    });\n  }\n  get width() {\n    return this._width;\n  }\n  set width(newWidth) {\n    this.el.style.width = `${newWidth}px`;\n    this._width = newWidth;\n  }\n  mouseover() {\n    this.el.style.width = `${this.width + 20}px`;\n    this.el.classList.add('hover');\n  }\n  mouseout() {\n    this.el.style.width = `${this.width}px`;\n    this.el.classList.remove('hover');\n  }\n  initializeWidth() {\n    const rect = this.el.getBoundingClientRect();\n    this.width = Math.ceil(rect.width);\n  }\n  static init() {\n    setTimeout(() => {\n      const items = document.querySelectorAll('[js-expandable], .umw-with-blocks .button:not(.gform_button)');\n      Array.from(items).map(el => new Expandable(el));\n    }, 250);\n  }\n}\n;// CONCATENATED MODULE: ./blocks/hero-intro/hero-intro.block.js\n\n\n\n\nclass HeroIntro extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    setTimeout(() => {\n      this.init();\n      this.loaded();\n    });\n  }\n  init() {\n    this.$links = this.findAll('[js-link]');\n    Array.from(this.$links).map(link => new Expandable(link));\n  }\n}\nregister_module('hero-intro', HeroIntro);\n\n// Add controls to hero videos - CAG\nconst addHeroVideoControls = () => {\n  const videos = document.querySelectorAll('.umw-hero__media video');\n  if (videos.length <= 0) {\n    return;\n  }\n  videos.forEach(video => {\n    const parentContainer = video.closest('.umw-hero__media');\n    const play = document.createElement('button');\n    play.setAttribute('aria-label', 'Pause or Resume Hero Video');\n    play.classList.add('play');\n    play.setAttribute('data-icon', 'P');\n    const playButton = {\n      text: document.createTextNode('Play'),\n      span: document.createElement('span'),\n      icon: document.createElement('i')\n    };\n    const pauseButton = {\n      text: document.createTextNode('Pause'),\n      span: document.createElement('span'),\n      icon: document.createElement('i')\n    };\n    playButton.span.classList.add('sr-only');\n    pauseButton.span.classList.add('sr-only');\n    playButton.span.appendChild(playButton.text);\n    pauseButton.span.appendChild(pauseButton.text);\n    playButton.icon.classList.add('iconoir-play');\n    pauseButton.icon.classList.add('iconoir-pause');\n    play.appendChild(pauseButton.span);\n    play.appendChild(pauseButton.icon);\n    play.addEventListener('click', e => {\n      if (video.paused) {\n        play.setAttribute('data-icon', 'u');\n        play.removeChild(playButton.span);\n        play.removeChild(playButton.icon);\n        play.appendChild(pauseButton.span);\n        play.appendChild(pauseButton.icon);\n        video.play();\n      } else {\n        play.setAttribute('data-icon', 'P');\n        play.removeChild(pauseButton.span);\n        play.removeChild(pauseButton.icon);\n        play.appendChild(playButton.span);\n        play.appendChild(playButton.icon);\n        video.pause();\n      }\n    });\n    parentContainer.appendChild(play);\n  });\n};\nconst removeExtraHeader = () => {\n  if (document.querySelectorAll('h1.umw-hero__title__header').length <= 0) {\n    return;\n  }\n  if (document.querySelectorAll('h1').length <= 1) {\n    return;\n  }\n  const pageTitle = document.querySelector('h1.front-page-title');\n  pageTitle.remove();\n};\nonLoad(() => {\n  addHeroVideoControls();\n  removeExtraHeader();\n});\n;// CONCATENATED MODULE: ./blocks/featured-content/featured-content.block.js\n\n\n\nclass FeaturedContent extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    setTimeout(() => {\n      this.init();\n      this.loaded();\n    });\n  }\n  init() {\n    // this.$expanable = this.findAll('[js-expandable]');\n    // Array.from(this.$expanable).map(link => new Expandable(link));\n  }\n}\nregister_module('featured-content', FeaturedContent);\n;// CONCATENATED MODULE: ./blocks/video/video.block.js\n\n\nclass Video extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    setTimeout(() => {\n      this.init();\n      this.loaded();\n    });\n  }\n  init() {\n    this.$video = this.find('[js-video]');\n    this.$playButton = this.find('[js-play]');\n    this.bindEvents();\n  }\n  bindEvents() {\n    if (this.$playButton) {\n      this.$playButton.addEventListener('click', this.playVideo.bind(this));\n    }\n  }\n  playVideo() {\n    this.$domElement.classList.add('video-playing');\n    this.$video.play();\n    this.$video.setAttribute('controls', true);\n  }\n}\nregister_module('video', Video);\n;// CONCATENATED MODULE: ./blocks/accordion/accordion.block.js\n\n\nclass Accordion extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    this.questionCounter = 0;\n    this.setAccordionID();\n    this.possibleHash = window.location.hash.substring(1);\n    this.openItem = null;\n    setTimeout(() => {\n      this.init();\n      this.loaded();\n    }, 100);\n  }\n  setAccordionID() {\n    let nodes = document.querySelectorAll('.umw-accordion-container');\n    this.accordionID = Array.prototype.indexOf.call(nodes, this.$domElement) + 1;\n  }\n  getAccordionID() {\n    return this.accordionID;\n  }\n  getAnswerID(el) {\n    const nodes = this.$domElement.querySelectorAll('[data-js-question]');\n    let id = Array.prototype.indexOf.call(nodes, el.closest('[data-js-question]')) + 1;\n    return 'accordion-' + this.getAccordionID() + '-answer-' + id;\n  }\n  getTriggerID(el) {\n    const nodes = this.$domElement.querySelectorAll('[data-js-question]');\n    let id = Array.prototype.indexOf.call(nodes, el.closest('[data-js-question]')) + 1;\n    return 'accordion-' + this.getAccordionID() + '-question-' + id;\n  }\n  init() {\n    window.addEventListener('hashchange', this.hashChanged.bind(this));\n    this.$domElement.classList.add('accordion-js');\n    this.isOnlyOneOpenAtATime = this.$domElement.dataset.onlyOne == 'true';\n    this.$triggers = this.find('[data-js-trigger]', true);\n    this.$questions = this.find('[data-js-question]', true);\n    each(this.$questions, question => {\n      const trigger = question.querySelector('[data-js-trigger]');\n      const answer = question.querySelector('.accordion__question__answer');\n      if (this.possibleHash && answer.querySelectorAll('#' + this.possibleHash).length >= 1) {\n        this.openItem = trigger;\n      }\n      trigger.setAttribute('aria-expanded', 'false');\n      trigger.setAttribute('aria-controls', this.getAnswerID(trigger));\n      trigger.setAttribute('id', this.getTriggerID(trigger));\n      question.setAttribute('aria-labelledby', this.getTriggerID(trigger));\n      question.setAttribute('role', 'region');\n      answer.setAttribute('id', this.getAnswerID(answer));\n      answer.setAttribute('aria-hidden', 'true');\n      trigger.addEventListener('click', this.toggleOpen.bind(this));\n    });\n    if (this.openItem === null && this.possibleHash) {\n      if (this.$domElement.querySelectorAll('#' + this.possibleHash + '.accordion__question__trigger, #' + this.possibleHash + '.accordion__question__answer').length >= 1) {\n        let i = this.$domElement.querySelector('.accordion__question#' + this.possibleHash + ', .accordion__question > #' + this.possibleHash);\n        this.openItem = i.closest('.umw-collapsible-section.umw-custom-block').querySelector('[data-js-trigger]');\n      }\n    }\n    if (this.openItem) {\n      this.closeAll();\n      this.openItem.click();\n      this.openItem.scrollIntoView();\n    }\n  }\n  hashChanged(e) {\n    this.possibleHash = window.location.hash.substring(1);\n    this.openItem = null;\n    if (this.possibleHash) {\n      if (this.$domElement.querySelectorAll('.accordion__question #' + this.possibleHash).length >= 1) {\n        let i = this.$domElement.querySelector('#' + this.possibleHash);\n        this.openItem = i.closest('.umw-collapsible-section.umw-custom-block').querySelector('[data-js-trigger]');\n      }\n    }\n    if (this.openItem) {\n      this.closeAll();\n      this.openItem.click();\n      this.openItem.scrollIntoView();\n    }\n  }\n  toggleOpen(e) {\n    const containerClasses = e.currentTarget.parentElement.classList;\n    const previouslyOpen = containerClasses.contains('open') === true;\n    const button = e.currentTarget;\n    const accordion = button.closest('.umw-collapsible-section');\n    if (this.isOnlyOneOpenAtATime) {\n      this.closeAll();\n    }\n    if (previouslyOpen) {\n      containerClasses.remove('open');\n      button.setAttribute('aria-expanded', 'false');\n      button.closest('[data-js-question]').querySelector('.accordion__question__answer').setAttribute('aria-hidden', 'true');\n    } else {\n      containerClasses.add('open');\n      button.setAttribute('aria-expanded', 'true');\n      button.closest('[data-js-question]').querySelector('.accordion__question__answer').setAttribute('aria-hidden', 'false');\n    }\n  }\n  closeAll() {\n    each(this.$questions, $question => {\n      $question.querySelector('.accordion__question__answer').setAttribute('aria-hidden', 'true');\n      $question.querySelector('[data-js-trigger]').setAttribute('aria-expanded', 'false');\n      $question.classList.remove('open');\n    });\n  }\n}\n;// CONCATENATED MODULE: ./blocks/horizontal-scroller/horizontal-scroller.block.js\n\n\n\n\n\nclass HorizontalScroller extends DomComponent {\n  constructor($domElement) {\n    super($domElement);\n    this.hasScroll = false;\n    this.$wrapper = this.$domElement.querySelector('.umw-horizontal-scroller__wrapper');\n    this.$domElement.classList.add('scroll');\n    this.checkForScroll();\n    window.addEventListener('resize', this.checkForScroll.bind(this));\n  }\n  checkForScroll() {\n    if (this.isScrollable() && !this.hasScroll) {\n      this.createThumb();\n    } else if (!this.isScrollable() && this.hasScroll) {\n      this.removeScroller();\n    }\n  }\n  removeScroller() {\n    this.hasScroll = false;\n    if (this.$track) {\n      this.$track.remove();\n    }\n  }\n  isScrollable() {\n    const children = this.$domElement.querySelectorAll('.umw-horizontal-scroller__column');\n    let width = 0;\n    each(children, child => {\n      width += child.offsetWidth;\n    });\n    return document.documentElement.clientWidth < width;\n  }\n  createThumb() {\n    this.hasScroll = true;\n    const html = `\n\t\t\t<div class=\"scroll__track\" js-track>\n\t\t\t\t<div class=\"scroll__thumb\" js-thumb />\n\t\t\t</div>\n\t\t`;\n    this.$domElement.insertAdjacentHTML('afterend', html);\n    setTimeout(() => {\n      this.setUpBindings();\n    }, 50);\n  }\n  setUpBindings() {\n    this.$track = this.$domElement.nextElementSibling;\n    this.$thumb = this.$domElement.nextElementSibling.querySelector('[js-thumb]');\n    this.lengthOfScroll = this.$track.offsetWidth - this.$thumb.offsetWidth;\n    this.$wrapper.addEventListener('scroll', this.onScroll.bind(this));\n    this.initializeScrollBar();\n  }\n  initializeScrollBar() {\n    // const padding = 48 - 8; // this is the 24px padding on each side. We subtract 8 as this is the placeholder to give us a flush alignment\n    this.totalWidth = this.$wrapper.scrollWidth - document.documentElement.clientWidth;\n    this.scrollRatio = this.lengthOfScroll / this.totalWidth;\n  }\n  onScroll() {\n    // const amountScrolled = (this.$domElement.scrollLeft / this.totalWidth) * 100;\n    const amountScrolled = this.$wrapper.scrollLeft * this.scrollRatio;\n    this.$thumb.style.transform = `translateX(${amountScrolled}px)`;\n  }\n  static init() {\n    if (!mq('md')) {\n      onLoad(() => {\n        const scroll = document.querySelectorAll('[js-horizontal-scroll]');\n        Array.from(scroll).map(el => new HorizontalScroll(el));\n      });\n    }\n  }\n}\nregister_module('horizontal-scroller', HorizontalScroller);\n;// CONCATENATED MODULE: ./js/services/horizontal-scroll.js\n\n\n\nclass horizontal_scroll_HorizontalScroll {\n  constructor($el) {\n    this.$el = $el;\n    this.$inner = this.$el.firstElementChild;\n    this.$el.classList.add('scroll');\n    if (this.isScrollable()) {\n      this.createThumb();\n    }\n  }\n  isScrollable() {\n    const children = this.$inner.children;\n    let width = 0;\n    each(children, child => {\n      width += child.offsetWidth;\n    });\n    return document.documentElement.clientWidth < width;\n  }\n  createThumb() {\n    const html = `\n\t\t\t<div class=\"scroll__track\" js-track>\n\t\t\t\t<div class=\"scroll__thumb\" js-thumb />\n\t\t\t</div>\n\t\t`;\n    this.$el.insertAdjacentHTML('afterend', html);\n    setTimeout(() => {\n      this.setUpBindings();\n    }, 50);\n  }\n  setUpBindings() {\n    this.$track = this.$el.nextElementSibling;\n    this.$thumb = this.$el.nextElementSibling.querySelector('[js-thumb]');\n    this.lengthOfScroll = this.$track.offsetWidth - this.$thumb.offsetWidth;\n    this.$el.addEventListener('scroll', this.onScroll.bind(this));\n    this.initializeScrollBar();\n  }\n  initializeScrollBar() {\n    // const padding = 48 - 8; // this is the 24px padding on each side. We subtract 8 as this is the placeholder to give us a flush alignment\n    this.totalWidth = this.$el.scrollWidth - document.documentElement.clientWidth;\n    this.scrollRatio = this.lengthOfScroll / this.totalWidth;\n  }\n  onScroll() {\n    // const amountScrolled = (this.$el.scrollLeft / this.totalWidth) * 100;\n    const amountScrolled = this.$el.scrollLeft * this.scrollRatio;\n    this.$thumb.style.transform = `translateX(${amountScrolled}px)`;\n  }\n  static init() {\n    if (!mq('md')) {\n      onLoad(() => {\n        const scroll = document.querySelectorAll('[js-horizontal-scroll]');\n        Array.from(scroll).map(el => new horizontal_scroll_HorizontalScroll(el));\n      });\n    }\n  }\n}\n/* harmony default export */ const horizontal_scroll = (horizontal_scroll_HorizontalScroll);\n// EXTERNAL MODULE: ./js/components/select.js\nvar components_select = __webpack_require__(827);\n;// CONCATENATED MODULE: ./components/forms/forms.js\n\n\n\nclass GravityForm {\n  constructor($form) {\n    this.$form = $form;\n    this.$inputs = this.$form.querySelectorAll('input[type=\"text\"],input[type=\"email\"], input[type=\"tel\"], textarea, select');\n    this.bindEvents();\n    $('select', this.$form).niceSelect();\n  }\n  bindEvents() {\n    each(this.$inputs, input => {\n      input.addEventListener('blur', this.onBlur.bind(this));\n    });\n  }\n  onBlur(e) {\n    if (e.currentTarget.value.length > 0) {\n      e.currentTarget.classList.add('has-input');\n    } else {\n      e.currentTarget.classList.remove('has-input');\n    }\n  }\n  static init() {\n    Array.from(document.querySelectorAll('.gform_wrapper form')).map(form => new GravityForm(form));\n  }\n}\n;// CONCATENATED MODULE: ./index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\r\n * If there is a sidebar on the page, move the Intro Text and Button blocks out\r\n * of the Hero and into the main content.\r\n *\r\n * @param {HTMLElement} hero The Hero block.\r\n */\nconst manipulateHeroForSidebar = hero => {\n  const mainContent = document.querySelector('.umw-block-content > .entry-content');\n  const heroIntroTextContainer = hero.querySelector('.wp-block-umw-hero-intro-text');\n  const heroIntroText = hero.querySelector('.umw-intro-text');\n  const heroButtonsContainer = hero.querySelector('.wp-block-umw-hero-ctas');\n  const heroButtons = hero.querySelectorAll('.umw-hero__links__wrapper > *');\n\n  // Move buttons back into the main content first, so moved intro text will go above them.\n  if (heroButtons.length) {\n    Array.from(heroButtons).reverse().forEach(el => {\n      mainContent.insertBefore(el, mainContent.firstChild);\n    });\n    heroButtonsContainer.parentElement.removeChild(heroButtonsContainer);\n  }\n\n  // Move the intro text back into the main content.\n  if (heroIntroText) {\n    mainContent.insertBefore(heroIntroText, mainContent.firstChild);\n    heroIntroTextContainer.parentElement.removeChild(heroIntroTextContainer);\n  }\n};\n\n/**\r\n * If there is Intro Text inside a Hero, the breadcrumb should be above\r\n * that Intro Text.\r\n *\r\n * @param {HTMLElement} breadcrumb The breadcrumb container.\r\n */\nconst manipulateBreadcrumb = breadcrumb => {\n  // Find an Intro Text block in a Hero.\n  const validIntroText = document.querySelector('.layout > .umw-hero .umw-intro-text__inner');\n  if (validIntroText) {\n    // Move the breadcrumb into the hero above the Intro Text block.\n    validIntroText.insertBefore(breadcrumb, validIntroText.firstChild);\n  }\n};\n\n/**\r\n * Do all hero and breadcrumb manipulation in the right order and only when necessary.\r\n */\nconst manipulateHeroAndBreadcrumb = () => {\n  const sidebar = document.querySelector('.umw-sidebar');\n  const startingHero = document.querySelector('.layout > .umw-hero');\n  const breadcrumb = document.querySelector('.breadcrumb');\n  if (sidebar && startingHero) {\n    manipulateHeroForSidebar(startingHero);\n  }\n  if (!sidebar && startingHero && breadcrumb) {\n    manipulateBreadcrumb(breadcrumb);\n  }\n\n  // Bail out if no breadcrumb.\n  if (!breadcrumb) {\n    return;\n  }\n\n  // Move the mobile breadcrumb back arrow into the link element, which is not\n  // as easy to do in PHP.\n  const previous = breadcrumb.querySelector('.breadcrumb__previous');\n  const svg = previous.querySelector('svg');\n  const previousLink = previous.querySelector('a');\n  if (svg && previousLink) {\n    previousLink.insertBefore(svg, previousLink.firstChild);\n  }\n};\n\n// Tasks to do on the window's `load` event; see below.\nconst onFullLoad = () => {\n  window.imageGalleries = [];\n  document.querySelectorAll('.image-gallery').forEach(el => {\n    window.imageGalleries.push(new ImageGallery(el));\n  });\n  document.querySelectorAll('.umw-sidebar').forEach(el => {\n    new Sidebar(el);\n  });\n};\n\n// The `false` in the second parameter here makes the callback run on the\n// window's `load` event, later than the usual DOMContentLoaded. This is\n// needed to get image gallery initialization right, since it depends on\n// image dimensions.\nonLoad(() => {\n  horizontal_scroll.init();\n  Expandable.init();\n  GravityForm.init();\n  if (document.querySelector('#genesis-content')) {\n    onFullLoad();\n  } else {\n    register_module('image-gallery', ImageGallery);\n    register_module('carousel', Carousel);\n    register_module('sidebar', Sidebar);\n    register_module('header', Header);\n  }\n}, false);\n\n// Immediately upon DOMContentLoaded.\nonLoad(() => {\n  manipulateHeroAndBreadcrumb();\n  featured_news();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7Ozs7QUNYQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFPQTtBQUNBO0FBQUE7QUFQQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9YQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQUE7QUFKQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FDcEJBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUN0REE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUNkQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDekRBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25EQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FDcEdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7O0FDcEJBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUNuQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQ3ZGQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvbGliL2RvbS1jb21wb25lbnQuanM/MWNiYyIsIndlYnBhY2s6Ly8vLi9qcy9saWIvZWFjaC5qcz9mZTlmIiwid2VicGFjazovLy8uL2pzL2xpYi9jb25zdC5qcz9jZTMxIiwid2VicGFjazovLy8uL2Jsb2Nrcy9pbWFnZS1nYWxsZXJ5L2ltYWdlLWdhbGxlcnkuYmxvY2suanM/YWQ1ZCIsIndlYnBhY2s6Ly8vLi9qcy9saWIvZGVsYXkuanM/YjIxYyIsIndlYnBhY2s6Ly8vLi9ibG9ja3MvcHVsbC1xdW90ZXMvcHVsbC1xdW90ZXMuYmxvY2suanM/OGRiMyIsIndlYnBhY2s6Ly8vLi9qcy9saWIvbXEuanM/YjI1NCIsIndlYnBhY2s6Ly8vLi9qcy9jb21wb25lbnRzL3NpZGViYXItYWNjb3JkaW9uLmpzPzRkZmUiLCJ3ZWJwYWNrOi8vLy4vc2lkZWJhci9zaWRlYmFyLmpzPzYyMDciLCJ3ZWJwYWNrOi8vLy4vanMvbGliL29uLWxvYWQuanM/ZGRiZCIsIndlYnBhY2s6Ly8vLi9qcy9saWIvcmVnaXN0ZXItbW9kdWxlLmpzP2VjZmMiLCJ3ZWJwYWNrOi8vLy4vYmxvY2tzL2ZlYXR1cmVkLWNvbnRlbnQvZmVhdHVyZWQtbmV3cy5qcz9jZjBiIiwid2VicGFjazovLy8uL2pzL2NvbXBvbmVudHMvZXhwYW5kYWJsZS5qcz85ZTg0Iiwid2VicGFjazovLy8uL2Jsb2Nrcy9oZXJvLWludHJvL2hlcm8taW50cm8uYmxvY2suanM/MWI2MiIsIndlYnBhY2s6Ly8vLi9ibG9ja3MvZmVhdHVyZWQtY29udGVudC9mZWF0dXJlZC1jb250ZW50LmJsb2NrLmpzPzBmMzAiLCJ3ZWJwYWNrOi8vLy4vYmxvY2tzL3ZpZGVvL3ZpZGVvLmJsb2NrLmpzPzFkMzgiLCJ3ZWJwYWNrOi8vLy4vYmxvY2tzL2FjY29yZGlvbi9hY2NvcmRpb24uYmxvY2suanM/YzEyNCIsIndlYnBhY2s6Ly8vLi9ibG9ja3MvaG9yaXpvbnRhbC1zY3JvbGxlci9ob3Jpem9udGFsLXNjcm9sbGVyLmJsb2NrLmpzPzA5NGYiLCJ3ZWJwYWNrOi8vLy4vanMvc2VydmljZXMvaG9yaXpvbnRhbC1zY3JvbGwuanM/MWMwYyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL2Zvcm1zL2Zvcm1zLmpzPzEwZWUiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBEb21Db21wb25lbnQge1xyXG5cdCRkb21FbGVtZW50O1xyXG5cclxuXHRjb25zdHJ1Y3RvcigkZG9tRWxlbWVudCkge1xyXG5cdFx0aWYgKCEkZG9tRWxlbWVudCkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy4kZG9tRWxlbWVudCA9ICRkb21FbGVtZW50O1xyXG5cdFx0dGhpcy4kZG9tRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdqcycpO1xyXG5cdFx0W3RoaXMuYmFzZUNTU0NsYXNzXSA9IHRoaXMuJGRvbUVsZW1lbnQuY2xhc3NMaXN0O1xyXG5cdH1cclxuXHJcblx0bG9hZGVkKCkge1xyXG5cdFx0dGhpcy4kZG9tRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdqcy1sb2FkZWQnKTtcclxuXHR9XHJcblxyXG5cdGZpbmQoc2VsZWN0b3IsIGtlZXBBc0FycmF5ID0gZmFsc2UpIHtcclxuXHRcdGNvbnN0IGZvdW5kID0gdGhpcy5maW5kQWxsKHNlbGVjdG9yKTtcclxuXHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGtlZXBBc0FycmF5ID09PSBmYWxzZSkge1xyXG5cdFx0XHRyZXR1cm4gZm91bmQubGVuZ3RoID4gMSA/IGZvdW5kIDogZm91bmRbMF07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZm91bmQ7XHJcblx0fVxyXG5cclxuXHRmaW5kQWxsKHNlbGVjdG9yKSB7XHJcblx0XHRjb25zdCBmb3VuZCA9IHRoaXMuJGRvbUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcblx0XHRpZiAoZm91bmQgJiYgZm91bmQubGVuZ3RoKSB7XHJcblx0XHRcdHJldHVybiBBcnJheS5mcm9tKGZvdW5kKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmb3VuZDtcclxuXHR9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlYWNoKG5vZGVMaXN0LCBjYikge1xyXG5cdGlmICghbm9kZUxpc3QgfHwgIW5vZGVMaXN0Lmxlbmd0aCkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRjYihub2RlTGlzdFtpXSwgaSk7XHJcblx0fVxyXG59IiwiZXhwb3J0IGNvbnN0IG1xTWFwID0ge1xyXG5cdHhzOiA0ODAsXHJcblx0c206IDc2OCxcclxuXHRtZDogMTA5NCxcclxuXHRsZzogMTI4MCxcclxuXHR4bDogMTY5MCxcclxuXHRuYXZEZXNrdG9wOiAxNjkwLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGR1cmF0aW9uID0gNDAwO1xyXG5leHBvcnQgY29uc3QgZHVyYXRpb25Mb25nID0gNzAwO1xyXG5leHBvcnQgY29uc3QgJCA9IHdpbmRvdy5qUXVlcnk7IiwiaW1wb3J0IERvbUNvbXBvbmVudCBmcm9tIFwiLi4vLi4vanMvbGliL2RvbS1jb21wb25lbnRcIjtcclxuXHJcbmltcG9ydCBlYWNoIGZyb20gJy4uLy4uL2pzL2xpYi9lYWNoJztcclxuaW1wb3J0IGRlbGF5IGZyb20gJy4uLy4uL2pzL2xpYi9kZWxheSc7XHJcbmltcG9ydCB7ZHVyYXRpb259IGZyb20gJy4uLy4uL2pzL2xpYi9jb25zdCc7XHJcblxyXG5sZXQgYWN0aXZlTGlnaHRib3hMaW5rID0gbnVsbDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlR2FsbGVyeSBleHRlbmRzIERvbUNvbXBvbmVudCB7XHJcbiAgICBfaW5kZXggPSBudWxsO1xyXG5cclxuICAgIF92aXNpYmxlVGh1bWJuYWlscyA9IDQ7XHJcblxyXG4gICAgX2dyaWRHYXAgPSAxNjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigkZG9tRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKCRkb21FbGVtZW50KTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRlZCgpO1xyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGluZGV4KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgaW5kZXgobmV3SW5kZXgpIHtcclxuICAgICAgICBpZiAobmV3SW5kZXggPj0gdGhpcy4kc2xpZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBuZXdJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmV3SW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgIG5ld0luZGV4ID0gdGhpcy4kc2xpZGVzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybVZhbHVlWCA9IG5ld0luZGV4ICogLTEwMDtcclxuXHJcbiAgICAgICAgLy8gd2UgYWRkIG9uZSB0byB0aGUgbmV3IGluZGV4IHNvIHdlIGRvbid0IHNob3cgdGhlIGN1cnJlbnRseSBkaXNwbGF5ZWQgaW1hZ2UgaW4gdGhlIGxpc3Qgb2YgdGh1bWJuYWlscy4gQnV0IHJhdGhlciB0aGUgbmV4dCBpbWFnYWUgaW4gdGhlIHNlcXVlbmNlXHJcblxyXG4gICAgICAgIHRoaXMuJHNsaWRlc2hvd1RyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dHJhbnNmb3JtVmFsdWVYfSUpYDtcclxuICAgICAgICBpZiAodGhpcy4kc2xpZGVzLmxlbmd0aCA+IHRoaXMuX3Zpc2libGVUaHVtYm5haWxzKSB7XHJcbiAgICAgICAgICAgIGlmICgobmV3SW5kZXggKyAxKSArIHRoaXMuX3Zpc2libGVUaHVtYm5haWxzIDw9IHRoaXMuJHNsaWRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVZhbHVlWSA9IChuZXdJbmRleCArIDEpICogLSh0aGlzLiR0aHVtYm5haWxbMF0ub2Zmc2V0SGVpZ2h0ICsgdGhpcy5fZ3JpZEdhcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiR0aHVtYm5haWxUcmFjay5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke3RyYW5zZm9ybVZhbHVlWX1weClgO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWF4VHJhbnNmb3JtID0gKHRoaXMuJHNsaWRlcy5sZW5ndGggLSB0aGlzLl92aXNpYmxlVGh1bWJuYWlscykgKiAtKHRoaXMuJHRodW1ibmFpbFswXS5vZmZzZXRIZWlnaHQgKyB0aGlzLl9ncmlkR2FwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHRodW1ibmFpbFRyYWNrLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7bWF4VHJhbnNmb3JtfXB4KWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmluZGV4ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy4kcGFnZXNbdGhpcy5pbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuJHBhZ2VzW25ld0luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB0aGlzLnNob3dEZXNjcmlwdGlvbihuZXdJbmRleCk7XHJcbiAgICAgICAgdGhpcy5faW5kZXggPSBuZXdJbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucmVzaXplID0gbnVsbDtcclxuICAgICAgICB0aGlzLiRzbGlkZXMgPSB0aGlzLmZpbmQoJ1tqcy1zbGlkZV0nKTtcclxuICAgICAgICB0aGlzLiR0aHVtYm5haWxzQ29udGFpbmVyID0gdGhpcy5maW5kKCdbanMtdGh1bWJuYWlscy1jb250YWluZXJdJyk7XHJcbiAgICAgICAgdGhpcy4kdGh1bWJuYWlsVHJhY2sgPSB0aGlzLmZpbmQoJ1tqcy10aHVtYm5haWwtdHJhY2tdJyk7XHJcbiAgICAgICAgdGhpcy4kc2xpZGVzaG93VHJhY2sgPSB0aGlzLmZpbmQoJ1tqcy1zbGlkZXNob3ctdHJhY2tdJyk7XHJcbiAgICAgICAgdGhpcy4kdGh1bWJuYWlsID0gdGhpcy5maW5kKCdbanMtdGh1bWJuYWlsXScpO1xyXG4gICAgICAgIHRoaXMuJG5leHRTbGlkZSA9IHRoaXMuZmluZCgnW2pzLW5leHRdJyk7XHJcbiAgICAgICAgdGhpcy4kcHJldmlvdXNTbGlkZSA9IHRoaXMuZmluZCgnW2pzLXByZXZdJyk7XHJcbiAgICAgICAgdGhpcy4kZGVzY3JpcHRpb25zID0gdGhpcy5maW5kKCdbanMtZGVzY3JpcHRpb25dJylcclxuICAgICAgICB0aGlzLiRkZXNjcmlwdG9uQ29udGFpbmVyID0gdGhpcy5maW5kKCdbanMtZGVzY3JpcHRpb24tY29udGFpbmVyXScpO1xyXG4gICAgICAgIHRoaXMuJHBhZ2VzID0gdGhpcy5maW5kKCdbanMtcGFnZV0nKTtcclxuICAgICAgICB0aGlzLnRyYW5zbGF0ZVkgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0dXBMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVHYWxsZXJ5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy4kbmV4dFNsaWRlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy4kcHJldmlvdXNTbGlkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbmRleC0tO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBlYWNoKHRoaXMuJHNsaWRlcywgKHNsaWRlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzbGlkZS5xdWVyeVNlbGVjdG9yKCdhJykpIHtcclxuICAgICAgICAgICAgICAgIGxldCBsaW5rID0gc2xpZGUucXVlcnlTZWxlY3RvcignYScpO1xyXG4gICAgICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlbkxpZ2h0Ym94LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmVzY0xpZ2h0Ym94LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICBlYWNoKHRoaXMuJHRodW1ibmFpbCwgKHRodW1ibmFpbCkgPT4ge1xyXG4gICAgICAgICAgICB0aHVtYm5haWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRodW1ibmFpbENsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuJHRodW1ibmFpbHNDb250YWluZXIuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgICAgICB0aGlzLiRkb21FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3JlYWR5Jyk7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVHYWxsZXJ5KCk7XHJcbiAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0aWFsaXplR2FsbGVyeSgpIHtcclxuICAgICAgICBsZXQgY291bnQgPSB0aGlzLiR0aHVtYm5haWxUcmFjay5jaGlsZHJlbi5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGNvdW50IDwgNCkge1xyXG4gICAgICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlci5jbGFzc05hbWUgPSAnaW1hZ2UtZ2FsbGVyeV9fc2xpZGVzaG93X190aHVtYm5haWwnO1xyXG4gICAgICAgICAgICB0aGlzLiR0aHVtYm5haWxUcmFjay5hcHBlbmQocGxhY2Vob2xkZXIpO1xyXG4gICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLiR0aHVtYm5haWxzQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RoaXMuJHNsaWRlc2hvd1RyYWNrLm9mZnNldEhlaWdodH1weGA7XHJcblxyXG4gICAgICAgIHRoaXMuJGRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncmVhZHknKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVMaWdodGJveCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGh1bWJuYWlsQ2xpY2soZSkge1xyXG4gICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmdldEluZGV4KGUuY3VycmVudFRhcmdldCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW5kZXgoZWxlbSkge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICB3aGlsZSAoKGVsZW0gPSBlbGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpICE9IG51bGwpICsraTtcclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93RGVzY3JpcHRpb24obmV3SW5kZXgpIHtcclxuICAgICAgICBpZiAodGhpcy4kZGVzY3JpcHRpb25zW3RoaXMuaW5kZXhdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy4kZGVzY3JpcHRpb25zW3RoaXMuaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy4kZGVzY3JpcHRpb25zW25ld0luZGV4XS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy4kZGVzY3JpcHRvbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xyXG4gICAgICAgIHRoaXMuJGRlc2NyaXB0aW9uc1tuZXdJbmRleF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBbGwgY29kZSBiZWxvdyBpbXBsZW1lbnRzIHZhcmlvdXMgbGlnaHRib3ggZmVhdHVyZXNcclxuICAgICAqL1xyXG5cclxuICAgIGNyZWF0ZUxpZ2h0Ym94KCkge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGlnaHRib3gtY29udGFpbmVyJykubGVuZ3RoID49IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbGJjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBsYmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdsaWdodGJveC1jb250YWluZXInKTtcclxuICAgICAgICBsYmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XHJcbiAgICAgICAgbGJjb250YWluZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCAnbGlnaHRib3gtdGl0bGUnKTtcclxuICAgICAgICBsYmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCAnbGlnaHRib3gtY29udGVudCcpO1xyXG4gICAgICAgIGxiY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG5cclxuICAgICAgICBjb25zdCBsYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGxiLmNsYXNzTGlzdC5hZGQoJ2xpZ2h0Ym94Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxiRmlnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmlndXJlJyk7XHJcbiAgICAgICAgbGJGaWcuY2xhc3NMaXN0LmFkZCgnbGlnaHRib3gtZmlndXJlJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxiQ2FwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ2NhcHRpb24nKTtcclxuICAgICAgICBsYkNhcHRpb24uY2xhc3NMaXN0LmFkZCgnbGlnaHRib3gtZGVzY3JpcHRpb24nKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGJUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICAgICAgbGJUaXRsZS5pZCA9ICdsaWdodGJveC10aXRsZSc7XHJcblxyXG4gICAgICAgIGNvbnN0IGxiQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGxiQ29udGVudC5pZCA9ICdsaWdodGJveC1jb250ZW50JztcclxuXHJcbiAgICAgICAgY29uc3QgbGJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGxiSW1hZ2UuY2xhc3NMaXN0LmFkZCgnbGlnaHRib3gtaW1hZ2UnKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIGxiQ2xvc2UuY2xhc3NMaXN0LmFkZCgnY2xvc2UtbGlnaHRib3gnKTtcclxuICAgICAgICBsYkNsb3NlLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDbG9zZSBMaWdodGJveCcpO1xyXG4gICAgICAgIGxiQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlTGlnaHRib3guYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxiQ2xvc2VUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgICAgIGxiQ2xvc2VUZXh0LmNsYXNzTGlzdC5hZGQoJ2ljb25vaXItY2FuY2VsJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxiQ2xvc2VTUlRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgbGJDbG9zZVNSVGV4dC5jbGFzc0xpc3QuYWRkKCdzY3JlZW4tcmVhZGVyLXRleHQnKTtcclxuICAgICAgICBsYkNsb3NlU1JUZXh0LmlubmVyVGV4dCA9ICdDbG9zZSB0aGlzIGxpZ2h0Ym94JztcclxuXHJcbiAgICAgICAgbGJDbG9zZS5hcHBlbmRDaGlsZChsYkNsb3NlVGV4dCk7XHJcbiAgICAgICAgbGJDbG9zZS5hcHBlbmRDaGlsZChsYkNsb3NlU1JUZXh0KTtcclxuXHJcbiAgICAgICAgbGJDYXB0aW9uLmFwcGVuZENoaWxkKGxiVGl0bGUpO1xyXG4gICAgICAgIGxiQ2FwdGlvbi5hcHBlbmRDaGlsZChsYkNvbnRlbnQpO1xyXG5cclxuICAgICAgICBsYkZpZy5hcHBlbmRDaGlsZChsYkltYWdlKTtcclxuICAgICAgICBsYkZpZy5hcHBlbmRDaGlsZChsYkNhcHRpb24pO1xyXG5cclxuICAgICAgICBsYi5hcHBlbmRDaGlsZChsYkZpZyk7XHJcbiAgICAgICAgbGIuYXBwZW5kQ2hpbGQobGJDbG9zZSk7XHJcblxyXG4gICAgICAgIGxiY29udGFpbmVyLmFwcGVuZENoaWxkKGxiKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsYmNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgYWR2YW5jZUxpZ2h0Ym94KCkge1xyXG4gICAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgICAgICB0aGlzLnNoaWZ0TGlnaHRib3goKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmV2aW91c0xpZ2h0Ym94KCkge1xyXG4gICAgICAgIHRoaXMuaW5kZXgtLTtcclxuICAgICAgICB0aGlzLnNoaWZ0TGlnaHRib3goKTtcclxuICAgIH1cclxuXHJcbiAgICBzaGlmdExpZ2h0Ym94KCkge1xyXG4gICAgICAgIGNvbnN0IHRodW1iID0gdGhpcy4kdGh1bWJuYWlsW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IHRodW1iSW1nID0gdGh1bWIucXVlcnlTZWxlY3RvcignaW1nJyk7XHJcbiAgICAgICAgbGV0IHRodW1iU3JjID0gdGh1bWJJbWcuc3JjO1xyXG4gICAgICAgIHRodW1iU3JjID0gdGh1bWJTcmMucmVwbGFjZSgnaHR0cDonLCAnJyk7XHJcbiAgICAgICAgdGh1bWJTcmMgPSB0aHVtYlNyYy5yZXBsYWNlKCdodHRwczonLCAnJyk7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlU2xpZGUgPSB0aGlzLiRzbGlkZXNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgY29uc3QgbGluayA9IGFjdGl2ZVNsaWRlLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcclxuICAgICAgICB0aGlzLm9wZW5MaWdodGJveChsaW5rKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVMaWdodGJveE5hdih0aHVtYnMpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2pzLWxpZ2h0Ym94LXByZXZdJykgPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saWdodGJveC1jb250YWluZXIgLmxpZ2h0Ym94Jyk7XHJcbiAgICAgICAgY29uc3QgbGJOYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBsYk5hdi5jbGFzc0xpc3QuYWRkKCdsaWdodGJveC1uYXYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGJQcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2pzLXByZXZdJykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IGxiTmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltqcy1uZXh0XScpLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICAgICAgbGJQcmV2LnJlbW92ZUF0dHJpYnV0ZSgnanMtcHJldicpO1xyXG4gICAgICAgIGxiUHJldi5zZXRBdHRyaWJ1dGUoJ2pzLWxpZ2h0Ym94LXByZXYnLCAnJyk7XHJcbiAgICAgICAgbGJQcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wcmV2aW91c0xpZ2h0Ym94LmJpbmQodGhpcykpO1xyXG5cclxuXHJcbiAgICAgICAgbGJOZXh0LnJlbW92ZUF0dHJpYnV0ZSgnanMtbmV4dCcpO1xyXG4gICAgICAgIGxiTmV4dC5zZXRBdHRyaWJ1dGUoJ2pzLWxpZ2h0Ym94LW5leHQnLCAnJyk7XHJcbiAgICAgICAgbGJOZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5hZHZhbmNlTGlnaHRib3guYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIGxiTmF2LmFwcGVuZENoaWxkKGxiUHJldik7XHJcbiAgICAgICAgbGJOYXYuYXBwZW5kQ2hpbGQobGJOZXh0KTtcclxuXHJcbiAgICAgICAgbGIuYXBwZW5kQ2hpbGQobGJOYXYpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5MaWdodGJveChlKSB7XHJcbiAgICAgICAgbGV0IGVsID0gZTtcclxuICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGVsID0gZS50YXJnZXQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpZ2h0Ym94LWNvbnRhaW5lcicpLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGlnaHRib3goKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjbGlja2VkTGluayA9IG51bGw7XHJcbiAgICAgICAgaWYgKCdhJyA9PT0gZWwudGFnTmFtZSkge1xyXG4gICAgICAgICAgICBjbGlja2VkTGluayA9IGVsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNsaWNrZWRMaW5rID0gZWwuY2xvc2VzdCgnYScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWN0aXZlTGlnaHRib3hMaW5rID0gY2xpY2tlZExpbms7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpZ2h0Ym94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpZ2h0Ym94LWNvbnRhaW5lcicpO1xyXG4gICAgICAgIGNvbnN0IGxiVGl0bGUgPSBsaWdodGJveC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtdGl0bGUnKTtcclxuICAgICAgICBjb25zdCBsYkNvbnRlbnQgPSBsaWdodGJveC5xdWVyeVNlbGVjdG9yKCcjbGlnaHRib3gtY29udGVudCcpO1xyXG4gICAgICAgIGNvbnN0IGxiSW1hZ2UgPSBsaWdodGJveC5xdWVyeVNlbGVjdG9yKCcubGlnaHRib3gtaW1hZ2UnKTtcclxuICAgICAgICBjb25zdCBsYkNsb3NlID0gbGlnaHRib3gucXVlcnlTZWxlY3RvcignLmNsb3NlLWxpZ2h0Ym94Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdhbGxlcnkgPSBlbC5jbG9zZXN0KCcuaW1hZ2UtZ2FsbGVyeV9fc2xpZGVzaG93Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRodW1icyA9IGdhbGxlcnkucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLWdhbGxlcnlfX3NsaWRlc2hvd19fdGh1bWJuYWlsc19fdHJhY2sgYnV0dG9uLmltYWdlLWdhbGxlcnlfX3NsaWRlc2hvd19fdGh1bWJuYWlsJyk7XHJcblxyXG4gICAgICAgIGlmICh0aHVtYnMubGVuZ3RoID49IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMaWdodGJveE5hdih0aHVtYnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB0aGlzLiRkZXNjcmlwdGlvbnNbdGhpcy5pbmRleF07XHJcblxyXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZGVzY3JpcHRpb24ucXVlcnlTZWxlY3RvcignLmltYWdlLWdhbGxlcnlfX2Rlc2NyaXB0aW9uX19oZWFkZXInKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FwdGlvbiA9IGRlc2NyaXB0aW9uLnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZS1nYWxsZXJ5X19kZXNjcmlwdGlvbl9fc3VtbWFyeScpO1xyXG5cclxuICAgICAgICBjb25zdCBpbWFnZSA9IGNsaWNrZWRMaW5rLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRpdGxlICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgY2FwdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aXRsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGxiVGl0bGUuaW5uZXJIVE1MID0gdGl0bGUuaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGJUaXRsZS5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYXB0aW9uICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgbGJDb250ZW50LmlubmVySFRNTCA9IGNhcHRpb24uaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGJDb250ZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsaWdodGJveC5xdWVyeVNlbGVjdG9yKCcubGlnaHRib3gtZGVzY3JpcHRpb24nKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbWdTcmMgPSAnJztcclxuICAgICAgICBpZiAoY2xpY2tlZExpbmsuaHJlZi5pbmRleE9mKCd1cGxvYWRzJykgPj0gMCkge1xyXG4gICAgICAgICAgICBpbWdTcmMgPSBjbGlja2VkTGluay5ocmVmO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGltZ1NyYyA9IGltYWdlLmdldEF0dHJpYnV0ZSgnc3JjJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsYkltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIGltZ1NyYyArICcpJztcclxuXHJcbiAgICAgICAgbGlnaHRib3guc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xyXG4gICAgICAgIGxpZ2h0Ym94LmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcclxuXHJcbiAgICAgICAgbGJDbG9zZS5mb2N1cygpO1xyXG4gICAgICAgIHRoaXMudHJhcEZvY3VzKGxpZ2h0Ym94KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGVzY0xpZ2h0Ym94KGUpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpZ2h0Ym94LWNvbnRhaW5lci5vcGVuJykubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xyXG4gICAgICAgICAgICBjYXNlICdFc2MnOlxyXG4gICAgICAgICAgICBjYXNlICdFc2NhcGUnIDpcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1saWdodGJveCcpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdCA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTGlnaHRib3goZSkge1xyXG4gICAgICAgIGNvbnN0IGxpZ2h0Ym94ID0gZS50YXJnZXQuY2xvc2VzdCgnLmxpZ2h0Ym94LWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBsaWdodGJveC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuICAgICAgICBsaWdodGJveC5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcblxyXG4gICAgICAgIGFjdGl2ZUxpZ2h0Ym94TGluay5mb2N1cygpO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhcEZvY3VzKGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgZm9jdXNhYmxlRWxzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2hyZWZdOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBpbnB1dFt0eXBlPVwidGV4dFwiXTpub3QoW2Rpc2FibGVkXSksIGlucHV0W3R5cGU9XCJyYWRpb1wiXTpub3QoW2Rpc2FibGVkXSksIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSknKTtcclxuICAgICAgICB2YXIgZmlyc3RGb2N1c2FibGVFbCA9IGZvY3VzYWJsZUVsc1swXTtcclxuICAgICAgICB2YXIgbGFzdEZvY3VzYWJsZUVsID0gZm9jdXNhYmxlRWxzW2ZvY3VzYWJsZUVscy5sZW5ndGggLSAxXTtcclxuICAgICAgICB2YXIgS0VZQ09ERV9UQUIgPSA5O1xyXG5cclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgaXNUYWJQcmVzc2VkID0gKGUua2V5ID09PSAnVGFiJyB8fCBlLmtleUNvZGUgPT09IEtFWUNPREVfVEFCKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNUYWJQcmVzc2VkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSAvKiBzaGlmdCArIHRhYiAqLyB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3RGb2N1c2FibGVFbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RGb2N1c2FibGVFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIC8qIHRhYiAqLyB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbGFzdEZvY3VzYWJsZUVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RGb2N1c2FibGVFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlbGF5KGR1cmF0aW9uKSB7XHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoKSwgZHVyYXRpb24pO1xyXG5cdH0pO1xyXG59IiwiaW1wb3J0IERvbUNvbXBvbmVudCBmcm9tIFwiLi4vLi4vanMvbGliL2RvbS1jb21wb25lbnRcIjtcclxuaW1wb3J0IGVhY2ggZnJvbSAnLi4vLi4vanMvbGliL2VhY2gnO1xyXG5pbXBvcnQgZGVsYXkgZnJvbSAnLi4vLi4vanMvbGliL2RlbGF5JztcclxuaW1wb3J0IHsgZHVyYXRpb25Mb25nIH0gZnJvbSAnLi4vLi4vanMvbGliL2NvbnN0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcm91c2VsIGV4dGVuZHMgRG9tQ29tcG9uZW50IHtcclxuXHRfaW5kZXggPSAwXHJcblx0X2FjdGl2ZVNsaWRlID0gbnVsbDtcclxuXHJcblx0Y29uc3RydWN0b3IoJGRvbUVsZW1lbnQpIHtcclxuXHRcdHN1cGVyKCRkb21FbGVtZW50KTtcclxuXHRcdHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5pbml0KCk7XHJcblx0XHRcdHRoaXMubG9hZGVkKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGdldCBpbmRleCgpIHtcclxuXHRcdHJldHVybiB0aGlzLl9pbmRleDtcclxuXHR9XHJcblxyXG5cdHNldCBpbmRleChuZXdJbmRleCkge1xyXG5cdFx0aWYgKG5ld0luZGV4ID09PSB0aGlzLiRzbGlkZXMubGVuZ3RoKSB7XHJcblx0XHRcdG5ld0luZGV4ID0gMDtcclxuXHRcdH1cclxuXHRcdHRoaXMuJGFjdGl2ZVNsaWRlID0gdGhpcy4kc2xpZGVzW25ld0luZGV4XTtcclxuXHRcdHRoaXMuX2luZGV4ID0gbmV3SW5kZXg7XHJcblx0fVxyXG5cclxuXHRnZXQgJGFjdGl2ZVNsaWRlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX2FjdGl2ZVNsaWRlO1xyXG5cdH1cclxuXHJcblx0c2V0ICRhY3RpdmVTbGlkZShuZXdTbGlkZSkge1xyXG5cdFx0aWYgKHRoaXMuJGFjdGl2ZVNsaWRlKSB7XHJcblx0XHRcdHRoaXMuYW5pbWF0ZVNsaWRlKG5ld1NsaWRlLCAoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuX2FjdGl2ZVNsaWRlID0gbmV3U2xpZGU7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvLyB0aGlzLiRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRuZXdTbGlkZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdFx0dGhpcy5fYWN0aXZlU2xpZGUgPSBuZXdTbGlkZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGluaXQoKSB7XHJcblx0XHR0aGlzLiRzbGlkZXMgPSB0aGlzLmZpbmRBbGwoJ1tqcy1zbGlkZV0nKTtcclxuXHRcdGlmICghdGhpcy4kc2xpZGVzLmxlbmd0aCkgeyByZXR1cm47fVxyXG5cdFx0dGhpcy4kY2Fyb3VzZWwgPSB0aGlzLmZpbmQoJ1tqcy1jYXJvdXNlbF0nKTtcclxuXHRcdHRoaXMuJG5leHRCdXR0b24gPSB0aGlzLmZpbmRBbGwoJ1tqcy1uZXh0LWJ1dHRvbl0nKTtcclxuXHRcdHRoaXMuYXR0YWNoRXZlbnRzKCk7XHJcblx0XHR0aGlzLmluaXRDYXJvdXNlbCgpO1xyXG5cdH1cclxuXHJcblx0YXR0YWNoRXZlbnRzKCkge1xyXG5cdFx0ZWFjaCh0aGlzLiRuZXh0QnV0dG9uLCAoYnV0dG9uKSA9PiB7XHJcblx0XHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZ29Ub05leHRTdG9yeS5iaW5kKHRoaXMpKTtcclxuXHRcdH0pO1xyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzZXQuYmluZCh0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRnb1RvTmV4dFN0b3J5KCkge1xyXG5cdFx0aWYgKHRoaXMuaXNBbmltYXRpbmcpIHJldHVybjtcclxuXHRcdHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xyXG5cdFx0dGhpcy5pbmRleCsrO1xyXG5cdH1cclxuXHJcblx0aW5pdENhcm91c2VsKCkge1xyXG5cdFx0aWYgKCF0aGlzLiRhY3RpdmVTbGlkZSkge1xyXG5cdFx0XHR0aGlzLiRhY3RpdmVTbGlkZSA9IHRoaXMuJHNsaWRlc1swXTtcclxuXHRcdH1cclxuXHRcdHRoaXMuJGNhcm91c2VsLnN0eWxlLmhlaWdodCA9IGAke3RoaXMuJGFjdGl2ZVNsaWRlLmNoaWxkcmVuWzBdLm9mZnNldEhlaWdodH1weGA7XHJcblx0XHR0aGlzLiRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdwcmVsb2FkJyk7XHJcblx0fVxyXG5cclxuXHRhbmltYXRlU2xpZGUobmV3U2xpZGUsIGNiKSB7XHJcblx0XHRQcm9taXNlLnJlc29sdmUoKVxyXG5cdFx0XHQudGhlbigoKSA9PiB0aGlzLiRhY3RpdmVTbGlkZS5jbGFzc0xpc3QuYWRkKCd0cmFuc2l0aW9uLW91dCcpKVxyXG5cdFx0XHQvLyAudGhlbigoKSA9PiB0aGlzLl9hY3RpdmVTbGlkZSA9IG5ld1NsaWRlKVxyXG5cdFx0XHQudGhlbigoKSA9PiBkZWxheShkdXJhdGlvbkxvbmcpKVxyXG5cdFx0XHQudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0dGhpcy4kYWN0aXZlU2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0bmV3U2xpZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdFx0dGhpcy4kY2Fyb3VzZWwuc3R5bGUuaGVpZ2h0ID0gYCR7bmV3U2xpZGUuY2hpbGRyZW5bMF0ub2Zmc2V0SGVpZ2h0fXB4YDtcclxuXHRcdFx0fSlcclxuXHRcdFx0LnRoZW4oKCkgPT4gZGVsYXkoZHVyYXRpb25Mb25nKSlcclxuXHRcdFx0LnRoZW4oKCkgPT4gbmV3U2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNpdGlvbi1vdXQnKSlcclxuXHRcdFx0LnRoZW4oKCkgPT4gZGVsYXkoZHVyYXRpb25Mb25nKSlcclxuXHRcdFx0LnRoZW4oKCkgPT4gY2IoKSk7XHJcblx0fVxyXG5cclxuXHRyZXNldCgpIHtcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLmluaXRDYXJvdXNlbCgpO1xyXG5cdFx0fSwgZHVyYXRpb25Mb25nKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHttcU1hcH0gZnJvbSAnLi9jb25zdCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbXEoYnJlYWtwb2ludCwgZGlyZWN0aW9uID0gJ21pbi13aWR0aCcpIHtcclxuXHRpZihtcU1hcC5oYXNPd25Qcm9wZXJ0eShicmVha3BvaW50KSkge1xyXG5cdFx0YnJlYWtwb2ludCA9IG1xTWFwW2JyZWFrcG9pbnRdICsgJ3B4JztcclxuXHR9XHJcblxyXG5cdGlmKG1xTWFwLmhhc093blByb3BlcnR5KGRpcmVjdGlvbikpIHtcclxuXHRcdGJyZWFrcG9pbnQgPSBbYnJlYWtwb2ludF07XHJcblxyXG5cdFx0YnJlYWtwb2ludC5wdXNoKG1xTWFwW2RpcmVjdGlvbl0gKyAncHgnKTtcclxuXHR9XHJcblx0bGV0IHF1ZXJ5O1xyXG5cdGlmKHR5cGVvZiBicmVha3BvaW50ID09PSAnc3RyaW5nJykge1xyXG5cdFx0cXVlcnkgPSBgKCR7ZGlyZWN0aW9ufTogJHticmVha3BvaW50fSlgO1xyXG5cdH1lbHNle1xyXG5cdFx0cXVlcnkgPSBgKG1pbi13aWR0aDogJHticmVha3BvaW50WzBdfSkgYW5kIChtYXgtd2lkdGg6ICR7YnJlYWtwb2ludFsxXX0pYDtcclxuXHR9XHJcblxyXG5cdHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSkubWF0Y2hlcztcclxufSIsImltcG9ydCB7IG1xIH0gZnJvbSAnLi4vbGliL21xJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZGViYXJBY2NvcmRpb24ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHRyaWdnZXIsIHVzZU1heEhlaWdodCA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gdHJpZ2dlcjtcclxuICAgICAgICB0aGlzLnByb3BlcnR5VG9Vc2UgPSB1c2VNYXhIZWlnaHQgPyAnbWF4SGVpZ2h0JyA6ICdoZWlnaHQnO1xyXG4gICAgICAgIHRoaXMuZXhwYW5kYWJsZVNlY3Rpb24gPSB0aGlzLnRyaWdnZXIubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5leHBhbmRhYmxlU2VjdGlvbi5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5leHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICghbXEoJ21kJykpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaWdnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdkZWZhdWx0JykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhwYW5kYWJsZVNlY3Rpb24uc3R5bGVbdGhpcy5wcm9wZXJ0eVRvVXNlXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZGFibGVTZWN0aW9uLnN0eWxlW3RoaXMucHJvcGVydHlUb1VzZV0gPSBgJHt0aGlzLmhlaWdodH1weGA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudHJpZ2dlckNsaWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICB0cmlnZ2VyQ2xpY2soKSB7XHJcbiAgICAgICAgaWYgKG1xKCdtZCcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmV4cGFuZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kYWJsZVNlY3Rpb24uc3R5bGVbdGhpcy5wcm9wZXJ0eVRvVXNlXSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kYWJsZVNlY3Rpb24uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kYWJsZVNlY3Rpb24uc3R5bGVbdGhpcy5wcm9wZXJ0eVRvVXNlXSA9IGAke3RoaXMuaGVpZ2h0fXB4YDtcclxuICAgICAgICAgICAgdGhpcy5leHBhbmRhYmxlU2VjdGlvbi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2FsbCc7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmV4cGFuZGVkID0gIXRoaXMuZXhwYW5kZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplKCkge1xyXG4gICAgICAgIGlmICghbXEoJ21kJykpIHtcclxuICAgICAgICAgICAgdGhpcy5leHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmV4cGFuZGFibGVTZWN0aW9uLnN0eWxlW3RoaXMucHJvcGVydHlUb1VzZV0gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5leHBhbmRhYmxlU2VjdGlvbi5zdHlsZVt0aGlzLnByb3BlcnR5VG9Vc2VdID0gYGF1dG9gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgRG9tQ29tcG9uZW50IGZyb20gXCIuLi9qcy9saWIvZG9tLWNvbXBvbmVudFwiO1xyXG5pbXBvcnQgU2lkZWJhckFjY29yZGlvbiBmcm9tIFwiLi4vanMvY29tcG9uZW50cy9zaWRlYmFyLWFjY29yZGlvblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2lkZWJhciBleHRlbmRzIERvbUNvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoJGRvbUVsZW1lbnQpIHtcclxuXHRcdHN1cGVyKCRkb21FbGVtZW50KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5pbml0KCk7XHJcblx0XHRcdHRoaXMubG9hZGVkKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGluaXQoKSB7XHJcblx0XHR0aGlzLiRhY2NvcmRpb25UcmlnZ2VyID0gdGhpcy5maW5kKCdbanMtYWNjb3JkaW9uLXRyaWdnZXJdJyk7XHJcblx0XHR0aGlzLmFjY29yZGlvbiA9IG5ldyBTaWRlYmFyQWNjb3JkaW9uKHRoaXMuJGFjY29yZGlvblRyaWdnZXIpO1xyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvbkxvYWQoY2IsIG9uRE9NQ29udGVudExvYWQgPSB0cnVlKSB7XHJcblx0aWYgKG9uRE9NQ29udGVudExvYWQgPT09IHRydWUpIHtcclxuXHRcdGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkZWQnKSB7XHJcblx0XHRcdGNiKCk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBjYik7XHJcblx0XHR9XHJcblx0fVxyXG5cdGVsc2Uge1xyXG5cdFx0aWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuXHRcdFx0Y2IoKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNiKTtcclxuXHRcdH1cclxuXHR9XHJcbn0iLCJpbXBvcnQgb25Mb2FkIGZyb20gJy4vb24tbG9hZCc7XHJcbmltcG9ydCBlYWNoIGZyb20gJy4vZWFjaCc7XHJcblxyXG5jb25zdCByZWdpc3Rlck1vZHVsZSA9IChzZWxlY3RvciwgQ29tcG9uZW50Q2xhc3MsIG9uRE9NQ29udGVudExvYWQgPSBmYWxzZSkgPT4ge1xyXG5cdG9uTG9hZCgoKSA9PiB7XHJcblx0XHRjb25zdCBkb21Ob2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLW1vZHVsZT1cIiR7c2VsZWN0b3J9XCJdYCk7XHJcblx0XHRpZiAoZG9tTm9kZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRlYWNoKGRvbU5vZGVzLCAoZG9tRWxlbWVudCkgPT4gbmV3IENvbXBvbmVudENsYXNzKGRvbUVsZW1lbnQpKTtcclxuXHR9LCBvbkRPTUNvbnRlbnRMb2FkKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdGVyTW9kdWxlO1xyXG4iLCJjb25zdCBzZXRPZmZzZXRzID0gZWxzID0+IHtcclxuICAgIGVscy5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICBsZXQgb2Zmc2V0ID0gW107XHJcblxyXG4gICAgICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcudW13LWZlYXR1cmVkLW5ld3MtY2FyZF9fbWFpbl9fY29udGVudCcpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvb2tpbmcgYXQgdGhlIG9sZCBzdHlsZSBuZXdzIGNhcmRzIGZvciBvZmZzZXQgaW5mbycpO1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gZWwucXVlcnlTZWxlY3RvcignLnVtdy1mZWF0dXJlZC1uZXdzLWNhcmRfX21haW5fX2NvbnRlbnQnKTtcclxuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBlbC5xdWVyeVNlbGVjdG9yKCcudW13LWZlYXR1cmVkLW5ld3MtY2FyZF9fbWFpbl9faW1hZ2UnKTtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gW1xyXG4gICAgICAgICAgICAgICAgdGV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBpbWFnZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoaW1hZ2UpLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1ib3R0b20nKSlcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ25ld3MtY2FyZCcpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xvb2tpbmcgYXQgTmV3cyBDYXJkIGNvbXBvbmVudHMgZm9yIG9mZnNldCBpbmZvJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBlbC5xdWVyeVNlbGVjdG9yKCduZXdzLWNhcmQnKS5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy51bXctbmV3cy1jYXJkX19jb250ZW50Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gZWwucXVlcnlTZWxlY3RvcignbmV3cy1jYXJkJykuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcudW13LW5ld3MtY2FyZF9fYXJ0aWNsZS1pbWFnZScpO1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBbXHJcbiAgICAgICAgICAgICAgICB0ZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIGltYWdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXh0KS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLXRvcCcpKVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnT2Zmc2V0IGluZm8gbG9va3MgbGlrZTogJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2cob2Zmc2V0KTtcclxuXHJcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0LnJlZHVjZSgocHJldiwgY3VyKSA9PiBwcmV2ICsgY3VyLCAwKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1ByZXBhcmluZyB0byBzZXQgb2Zmc2V0IHRvICcgKyBvZmZzZXQpO1xyXG5cclxuICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1iZy1vZmZzZXQnLCBgJHtvZmZzZXR9cHhgKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3QgbW9iaWxlTVEgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogMTA5M3B4KScpO1xyXG5cclxubGV0IHRpbWVvdXQgPSAwO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xyXG4gICAgbGV0IGZlYXR1cmVkTmV3c0NhcmRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudW13LWZlYXR1cmVkLW5ld3MtY2FyZCcpKTtcclxuXHJcbiAgICAvLyBPbmx5IG5lZWQgY2FyZHMgdGhhdCBoYXZlIGEgSGVhZGluZyBhbmQgU2VlIE1vcmUgaW5zaWRlLlxyXG4gICAgZmVhdHVyZWROZXdzQ2FyZHMgPSBmZWF0dXJlZE5ld3NDYXJkcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy51bXctaGVhZGluZy1hbmQtc2VlLW1vcmUnKSk7XHJcblxyXG4gICAgY29uc3Qgc2V0QWxsT2Zmc2V0cyA9IHNldE9mZnNldHMuYmluZChudWxsLCBmZWF0dXJlZE5ld3NDYXJkcyk7XHJcblxyXG4gICAgc2V0QWxsT2Zmc2V0cygpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgc2V0QWxsT2Zmc2V0cyk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgIGlmIChtb2JpbGVNUS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNldEFsbE9mZnNldHMsIDIwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cGFuZGFibGUge1xyXG5cdF93aWR0aDtcclxuXHJcblx0Y29uc3RydWN0b3IoZWwsIGFtb3VudCA9IDIwKSB7XHJcblx0XHR0aGlzLmVsID0gZWw7XHJcblx0XHR0aGlzLmFtb3VudCA9IGFtb3VudDtcclxuXHJcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5pbml0aWFsaXplV2lkdGguYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLmluaXRpYWxpemVXaWR0aCgpO1xyXG5cclxuXHRcdHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5tb3VzZW92ZXIuYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5tb3VzZW91dC5iaW5kKHRoaXMpKTtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcblx0XHRcdHRoaXMuZWwuc3R5bGUud2lkdGggPSBgYXV0b2A7XHJcblx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuaW5pdGlhbGl6ZVdpZHRoKCk7XHJcblx0XHRcdFx0dGhpcy5lbC5zdHlsZS53aWR0aCA9IGAke3RoaXMud2lkdGh9cHhgO1xyXG5cdFx0XHR9LDEwKTtcclxuXHRcdH0pXHJcblx0fVxyXG5cclxuXHRnZXQgd2lkdGgoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fd2lkdGg7XHJcblx0fVxyXG5cclxuXHRzZXQgd2lkdGgobmV3V2lkdGgpIHtcclxuXHRcdHRoaXMuZWwuc3R5bGUud2lkdGggPSBgJHtuZXdXaWR0aH1weGA7XHJcblx0XHR0aGlzLl93aWR0aCA9IG5ld1dpZHRoO1xyXG5cdH1cclxuXHJcblx0bW91c2VvdmVyKCkge1xyXG5cdFx0dGhpcy5lbC5zdHlsZS53aWR0aCA9IGAke3RoaXMud2lkdGggKyAyMH1weGA7XHJcblx0XHR0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2hvdmVyJyk7XHJcblx0fVxyXG5cclxuXHRtb3VzZW91dCgpIHtcclxuXHRcdHRoaXMuZWwuc3R5bGUud2lkdGggPSBgJHt0aGlzLndpZHRofXB4YDtcclxuXHRcdHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXInKTtcclxuXHR9XHJcblxyXG5cdGluaXRpYWxpemVXaWR0aCgpIHtcclxuXHRcdGNvbnN0IHJlY3QgPSB0aGlzLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdFx0dGhpcy53aWR0aCA9IE1hdGguY2VpbChyZWN0LndpZHRoKTtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBpbml0KCkge1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2pzLWV4cGFuZGFibGVdLCAudW13LXdpdGgtYmxvY2tzIC5idXR0b246bm90KC5nZm9ybV9idXR0b24pJyk7XHJcblx0XHRcdEFycmF5LmZyb20oaXRlbXMpLm1hcChlbCA9PiBuZXcgRXhwYW5kYWJsZShlbCkpO1xyXG5cdFx0fSwgMjUwKTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgRG9tQ29tcG9uZW50IGZyb20gXCIuLi8uLi9qcy9saWIvZG9tLWNvbXBvbmVudFwiO1xyXG5pbXBvcnQgcmVnaXN0ZXJNb2R1bGUgZnJvbSBcIi4uLy4uL2pzL2xpYi9yZWdpc3Rlci1tb2R1bGVcIjtcclxuaW1wb3J0IEV4cGFuZGFibGUgZnJvbSAnLi4vLi4vanMvY29tcG9uZW50cy9leHBhbmRhYmxlJztcclxuaW1wb3J0IG9uTG9hZCBmcm9tIFwiLi4vLi4vanMvbGliL29uLWxvYWRcIjtcclxuXHJcbmNsYXNzIEhlcm9JbnRybyBleHRlbmRzIERvbUNvbXBvbmVudCB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCRkb21FbGVtZW50KSB7XHJcblx0XHRzdXBlcigkZG9tRWxlbWVudCk7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuaW5pdCgpO1xyXG5cdFx0XHR0aGlzLmxvYWRlZCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRpbml0KCkge1xyXG5cdFx0dGhpcy4kbGlua3MgPSB0aGlzLmZpbmRBbGwoJ1tqcy1saW5rXScpO1xyXG5cdFx0QXJyYXkuZnJvbSh0aGlzLiRsaW5rcykubWFwKGxpbmsgPT4gbmV3IEV4cGFuZGFibGUobGluaykpO1xyXG5cdH1cclxufVxyXG5cclxucmVnaXN0ZXJNb2R1bGUoJ2hlcm8taW50cm8nLCBIZXJvSW50cm8pO1xyXG5cclxuLy8gQWRkIGNvbnRyb2xzIHRvIGhlcm8gdmlkZW9zIC0gQ0FHXHJcbmNvbnN0IGFkZEhlcm9WaWRlb0NvbnRyb2xzID0gKCkgPT4ge1xyXG5cdGNvbnN0IHZpZGVvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51bXctaGVyb19fbWVkaWEgdmlkZW8nKTtcclxuXHRpZiAodmlkZW9zLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHR2aWRlb3MuZm9yRWFjaCgodmlkZW8pID0+IHtcclxuXHRcdGNvbnN0IHBhcmVudENvbnRhaW5lciA9IHZpZGVvLmNsb3Nlc3QoJy51bXctaGVyb19fbWVkaWEnKTtcclxuXHJcblx0XHRjb25zdCBwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRwbGF5LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdQYXVzZSBvciBSZXN1bWUgSGVybyBWaWRlbycpO1xyXG5cdFx0cGxheS5jbGFzc0xpc3QuYWRkKCdwbGF5Jyk7XHJcblx0XHRwbGF5LnNldEF0dHJpYnV0ZSgnZGF0YS1pY29uJywgJ1AnKTtcclxuXHJcblx0XHRjb25zdCBwbGF5QnV0dG9uID0ge1xyXG5cdFx0XHR0ZXh0OiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnUGxheScpLFxyXG5cdFx0XHRzcGFuOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksXHJcblx0XHRcdGljb246IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKSxcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgcGF1c2VCdXR0b24gPSB7XHJcblx0XHRcdHRleHQ6IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdQYXVzZScpLFxyXG5cdFx0XHRzcGFuOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksXHJcblx0XHRcdGljb246IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKSxcclxuXHRcdH07XHJcblxyXG5cdFx0cGxheUJ1dHRvbi5zcGFuLmNsYXNzTGlzdC5hZGQoJ3NyLW9ubHknKTtcclxuXHRcdHBhdXNlQnV0dG9uLnNwYW4uY2xhc3NMaXN0LmFkZCgnc3Itb25seScpO1xyXG5cdFx0cGxheUJ1dHRvbi5zcGFuLmFwcGVuZENoaWxkKHBsYXlCdXR0b24udGV4dCk7XHJcblx0XHRwYXVzZUJ1dHRvbi5zcGFuLmFwcGVuZENoaWxkKHBhdXNlQnV0dG9uLnRleHQpO1xyXG5cclxuXHRcdHBsYXlCdXR0b24uaWNvbi5jbGFzc0xpc3QuYWRkKCdpY29ub2lyLXBsYXknKTtcclxuXHRcdHBhdXNlQnV0dG9uLmljb24uY2xhc3NMaXN0LmFkZCgnaWNvbm9pci1wYXVzZScpO1xyXG5cclxuXHRcdHBsYXkuYXBwZW5kQ2hpbGQocGF1c2VCdXR0b24uc3Bhbik7XHJcblx0XHRwbGF5LmFwcGVuZENoaWxkKHBhdXNlQnV0dG9uLmljb24pO1xyXG5cclxuXHRcdHBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG5cdFx0XHRpZiAodmlkZW8ucGF1c2VkKSB7XHJcblx0XHRcdFx0cGxheS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWNvbicsICd1Jyk7XHJcblx0XHRcdFx0cGxheS5yZW1vdmVDaGlsZChwbGF5QnV0dG9uLnNwYW4pO1xyXG5cdFx0XHRcdHBsYXkucmVtb3ZlQ2hpbGQocGxheUJ1dHRvbi5pY29uKTtcclxuXHRcdFx0XHRwbGF5LmFwcGVuZENoaWxkKHBhdXNlQnV0dG9uLnNwYW4pO1xyXG5cdFx0XHRcdHBsYXkuYXBwZW5kQ2hpbGQocGF1c2VCdXR0b24uaWNvbik7XHJcblx0XHRcdFx0dmlkZW8ucGxheSgpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHBsYXkuc2V0QXR0cmlidXRlKCdkYXRhLWljb24nLCAnUCcpO1xyXG5cdFx0XHRcdHBsYXkucmVtb3ZlQ2hpbGQocGF1c2VCdXR0b24uc3Bhbik7XHJcblx0XHRcdFx0cGxheS5yZW1vdmVDaGlsZChwYXVzZUJ1dHRvbi5pY29uKTtcclxuXHRcdFx0XHRwbGF5LmFwcGVuZENoaWxkKHBsYXlCdXR0b24uc3Bhbik7XHJcblx0XHRcdFx0cGxheS5hcHBlbmRDaGlsZChwbGF5QnV0dG9uLmljb24pO1xyXG5cdFx0XHRcdHZpZGVvLnBhdXNlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHBhcmVudENvbnRhaW5lci5hcHBlbmRDaGlsZChwbGF5KTtcclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUV4dHJhSGVhZGVyID0gKCkgPT4ge1xyXG5cdGlmICggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaDEudW13LWhlcm9fX3RpdGxlX19oZWFkZXInKS5sZW5ndGggPD0gMCkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0aWYgKCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMScpLmxlbmd0aCA8PSAxICkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgcGFnZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaDEuZnJvbnQtcGFnZS10aXRsZScpO1xyXG5cdHBhZ2VUaXRsZS5yZW1vdmUoKTtcclxufTtcclxuXHJcbm9uTG9hZCgoKSA9PiB7XHJcblx0YWRkSGVyb1ZpZGVvQ29udHJvbHMoKTtcclxuXHRyZW1vdmVFeHRyYUhlYWRlcigpO1xyXG59KVxyXG4iLCJpbXBvcnQgRG9tQ29tcG9uZW50IGZyb20gXCIuLi8uLi9qcy9saWIvZG9tLWNvbXBvbmVudFwiO1xyXG5pbXBvcnQgcmVnaXN0ZXJNb2R1bGUgZnJvbSBcIi4uLy4uL2pzL2xpYi9yZWdpc3Rlci1tb2R1bGVcIjtcclxuaW1wb3J0IEV4cGFuZGFibGUgZnJvbSAnLi4vLi4vanMvY29tcG9uZW50cy9leHBhbmRhYmxlJztcclxuXHJcbmNsYXNzIEZlYXR1cmVkQ29udGVudCBleHRlbmRzIERvbUNvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoJGRvbUVsZW1lbnQpIHtcclxuXHRcdHN1cGVyKCRkb21FbGVtZW50KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0dGhpcy5pbml0KCk7XHJcblx0XHRcdHRoaXMubG9hZGVkKCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGluaXQoKSB7XHJcblx0XHQvLyB0aGlzLiRleHBhbmFibGUgPSB0aGlzLmZpbmRBbGwoJ1tqcy1leHBhbmRhYmxlXScpO1xyXG5cdFx0Ly8gQXJyYXkuZnJvbSh0aGlzLiRleHBhbmFibGUpLm1hcChsaW5rID0+IG5ldyBFeHBhbmRhYmxlKGxpbmspKTtcclxuXHR9XHJcbn1cclxuXHJcbnJlZ2lzdGVyTW9kdWxlKCdmZWF0dXJlZC1jb250ZW50JywgRmVhdHVyZWRDb250ZW50KTsiLCJpbXBvcnQgRG9tQ29tcG9uZW50IGZyb20gXCIuLi8uLi9qcy9saWIvZG9tLWNvbXBvbmVudFwiO1xyXG5pbXBvcnQgcmVnaXN0ZXJNb2R1bGUgZnJvbSBcIi4uLy4uL2pzL2xpYi9yZWdpc3Rlci1tb2R1bGVcIjtcclxuXHJcblxyXG5jbGFzcyBWaWRlbyBleHRlbmRzIERvbUNvbXBvbmVudCB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCRkb21FbGVtZW50KSB7XHJcblx0XHRzdXBlcigkZG9tRWxlbWVudCk7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRoaXMuaW5pdCgpO1xyXG5cdFx0XHR0aGlzLmxvYWRlZCgpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRpbml0KCkge1xyXG5cdFx0dGhpcy4kdmlkZW8gPSB0aGlzLmZpbmQoJ1tqcy12aWRlb10nKTtcclxuXHRcdHRoaXMuJHBsYXlCdXR0b24gPSB0aGlzLmZpbmQoJ1tqcy1wbGF5XScpO1xyXG5cdFx0XHJcblx0XHR0aGlzLmJpbmRFdmVudHMoKTtcclxuXHR9XHJcblxyXG5cdGJpbmRFdmVudHMoKSB7XHJcblx0XHRpZiAodGhpcy4kcGxheUJ1dHRvbikge1xyXG5cdFx0XHR0aGlzLiRwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5wbGF5VmlkZW8uYmluZCh0aGlzKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHBsYXlWaWRlbygpIHtcclxuXHRcdHRoaXMuJGRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgndmlkZW8tcGxheWluZycpO1xyXG5cdFx0dGhpcy4kdmlkZW8ucGxheSgpO1xyXG5cdFx0dGhpcy4kdmlkZW8uc2V0QXR0cmlidXRlKCdjb250cm9scycsIHRydWUpO1xyXG5cdH1cclxufVxyXG5cclxucmVnaXN0ZXJNb2R1bGUoJ3ZpZGVvJywgVmlkZW8pOyIsImltcG9ydCBEb21Db21wb25lbnQgZnJvbSBcIi4uLy4uL2pzL2xpYi9kb20tY29tcG9uZW50XCI7XHJcbmltcG9ydCBlYWNoIGZyb20gJy4uLy4uL2pzL2xpYi9lYWNoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY29yZGlvbiBleHRlbmRzIERvbUNvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoJGRvbUVsZW1lbnQpIHtcclxuICAgICAgICBzdXBlcigkZG9tRWxlbWVudCk7XHJcblxyXG4gICAgICAgIHRoaXMucXVlc3Rpb25Db3VudGVyID0gMDtcclxuICAgICAgICB0aGlzLnNldEFjY29yZGlvbklEKCk7XHJcblxyXG4gICAgICAgIHRoaXMucG9zc2libGVIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIHRoaXMub3Blbkl0ZW0gPSBudWxsO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkKCk7XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY2NvcmRpb25JRCgpIHtcclxuICAgICAgICBsZXQgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudW13LWFjY29yZGlvbi1jb250YWluZXInKTtcclxuICAgICAgICB0aGlzLmFjY29yZGlvbklEID0gKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobm9kZXMsIHRoaXMuJGRvbUVsZW1lbnQpICsgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWNjb3JkaW9uSUQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjb3JkaW9uSUQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5zd2VySUQoZWwpIHtcclxuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuJGRvbUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtanMtcXVlc3Rpb25dJyk7XHJcbiAgICAgICAgbGV0IGlkID0gKEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobm9kZXMsIGVsLmNsb3Nlc3QoJ1tkYXRhLWpzLXF1ZXN0aW9uXScpKSArIDEpO1xyXG4gICAgICAgIHJldHVybiAnYWNjb3JkaW9uLScgKyB0aGlzLmdldEFjY29yZGlvbklEKCkgKyAnLWFuc3dlci0nICsgaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VHJpZ2dlcklEKGVsKSB7XHJcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLiRkb21FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWpzLXF1ZXN0aW9uXScpO1xyXG4gICAgICAgIGxldCBpZCA9IChBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKG5vZGVzLCBlbC5jbG9zZXN0KCdbZGF0YS1qcy1xdWVzdGlvbl0nKSkgKyAxKTtcclxuICAgICAgICByZXR1cm4gJ2FjY29yZGlvbi0nICsgdGhpcy5nZXRBY2NvcmRpb25JRCgpICsgJy1xdWVzdGlvbi0nICsgaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2hhc2hjaGFuZ2UnLCB0aGlzLmhhc2hDaGFuZ2VkLmJpbmQodGhpcykgKTtcclxuICAgICAgICB0aGlzLiRkb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2FjY29yZGlvbi1qcycpO1xyXG4gICAgICAgIHRoaXMuaXNPbmx5T25lT3BlbkF0QVRpbWUgPSB0aGlzLiRkb21FbGVtZW50LmRhdGFzZXQub25seU9uZSA9PSAndHJ1ZSc7XHJcbiAgICAgICAgdGhpcy4kdHJpZ2dlcnMgPSB0aGlzLmZpbmQoJ1tkYXRhLWpzLXRyaWdnZXJdJywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy4kcXVlc3Rpb25zID0gdGhpcy5maW5kKCdbZGF0YS1qcy1xdWVzdGlvbl0nLCB0cnVlKTtcclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLiRxdWVzdGlvbnMsIChxdWVzdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0cmlnZ2VyID0gcXVlc3Rpb24ucXVlcnlTZWxlY3RvcignW2RhdGEtanMtdHJpZ2dlcl0nKTtcclxuICAgICAgICAgICAgY29uc3QgYW5zd2VyID0gcXVlc3Rpb24ucXVlcnlTZWxlY3RvcignLmFjY29yZGlvbl9fcXVlc3Rpb25fX2Fuc3dlcicpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCB0aGlzLnBvc3NpYmxlSGFzaCAmJiBhbnN3ZXIucXVlcnlTZWxlY3RvckFsbCgnIycgKyB0aGlzLnBvc3NpYmxlSGFzaCkubGVuZ3RoID49IDEgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5JdGVtID0gdHJpZ2dlcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcclxuICAgICAgICAgICAgdHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCB0aGlzLmdldEFuc3dlcklEKHRyaWdnZXIpKTtcclxuICAgICAgICAgICAgdHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy5nZXRUcmlnZ2VySUQodHJpZ2dlcikpO1xyXG5cclxuICAgICAgICAgICAgcXVlc3Rpb24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCB0aGlzLmdldFRyaWdnZXJJRCh0cmlnZ2VyKSk7XHJcbiAgICAgICAgICAgIHF1ZXN0aW9uLnNldEF0dHJpYnV0ZSgncm9sZScsICdyZWdpb24nKTtcclxuXHJcbiAgICAgICAgICAgIGFuc3dlci5zZXRBdHRyaWJ1dGUoJ2lkJywgdGhpcy5nZXRBbnN3ZXJJRChhbnN3ZXIpKTtcclxuICAgICAgICAgICAgYW5zd2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG5cclxuICAgICAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9nZ2xlT3Blbi5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCB0aGlzLm9wZW5JdGVtID09PSBudWxsICYmIHRoaXMucG9zc2libGVIYXNoICkge1xyXG4gICAgICAgICAgICBpZiAoIHRoaXMuJGRvbUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCggJyMnICsgdGhpcy5wb3NzaWJsZUhhc2ggKyAnLmFjY29yZGlvbl9fcXVlc3Rpb25fX3RyaWdnZXIsICMnICsgdGhpcy5wb3NzaWJsZUhhc2ggKyAnLmFjY29yZGlvbl9fcXVlc3Rpb25fX2Fuc3dlcicgKS5sZW5ndGggPj0gMSApIHtcclxuICAgICAgICAgICAgICAgIGxldCBpID0gdGhpcy4kZG9tRWxlbWVudC5xdWVyeVNlbGVjdG9yKCAnLmFjY29yZGlvbl9fcXVlc3Rpb24jJyArIHRoaXMucG9zc2libGVIYXNoICsgJywgLmFjY29yZGlvbl9fcXVlc3Rpb24gPiAjJyArIHRoaXMucG9zc2libGVIYXNoICk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5JdGVtID0gaS5jbG9zZXN0KCcudW13LWNvbGxhcHNpYmxlLXNlY3Rpb24udW13LWN1c3RvbS1ibG9jaycpLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWpzLXRyaWdnZXJdJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggdGhpcy5vcGVuSXRlbSApIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZUFsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5JdGVtLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMub3Blbkl0ZW0uc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFzaENoYW5nZWQoZSkge1xyXG4gICAgICAgIHRoaXMucG9zc2libGVIYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIHRoaXMub3Blbkl0ZW0gPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoIHRoaXMucG9zc2libGVIYXNoICkge1xyXG4gICAgICAgICAgICBpZiAoIHRoaXMuJGRvbUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCggJy5hY2NvcmRpb25fX3F1ZXN0aW9uICMnICsgdGhpcy5wb3NzaWJsZUhhc2ggKS5sZW5ndGggPj0gMSApIHtcclxuICAgICAgICAgICAgICAgIGxldCBpID0gdGhpcy4kZG9tRWxlbWVudC5xdWVyeVNlbGVjdG9yKCAnIycgKyB0aGlzLnBvc3NpYmxlSGFzaCApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuSXRlbSA9IGkuY2xvc2VzdCgnLnVtdy1jb2xsYXBzaWJsZS1zZWN0aW9uLnVtdy1jdXN0b20tYmxvY2snKS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1qcy10cmlnZ2VyXScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIHRoaXMub3Blbkl0ZW0gKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5vcGVuSXRlbS5jbGljaygpO1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5JdGVtLnNjcm9sbEludG9WaWV3KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZU9wZW4oZSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckNsYXNzZXMgPSBlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3Q7XHJcbiAgICAgICAgY29uc3QgcHJldmlvdXNseU9wZW4gPSBjb250YWluZXJDbGFzc2VzLmNvbnRhaW5zKCdvcGVuJykgPT09IHRydWU7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGUuY3VycmVudFRhcmdldDtcclxuICAgICAgICBjb25zdCBhY2NvcmRpb24gPSBidXR0b24uY2xvc2VzdCgnLnVtdy1jb2xsYXBzaWJsZS1zZWN0aW9uJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzT25seU9uZU9wZW5BdEFUaW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByZXZpb3VzbHlPcGVuKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzZXMucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsb3Nlc3QoJ1tkYXRhLWpzLXF1ZXN0aW9uXScpLnF1ZXJ5U2VsZWN0b3IoJy5hY2NvcmRpb25fX3F1ZXN0aW9uX19hbnN3ZXInKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXJDbGFzc2VzLmFkZCgnb3BlbicpO1xyXG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcclxuICAgICAgICAgICAgYnV0dG9uLmNsb3Nlc3QoJ1tkYXRhLWpzLXF1ZXN0aW9uXScpLnF1ZXJ5U2VsZWN0b3IoJy5hY2NvcmRpb25fX3F1ZXN0aW9uX19hbnN3ZXInKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlQWxsKCkge1xyXG4gICAgICAgIGVhY2godGhpcy4kcXVlc3Rpb25zLCAoJHF1ZXN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICRxdWVzdGlvbi5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkaW9uX19xdWVzdGlvbl9fYW5zd2VyJykuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgICAgICAgICAgICRxdWVzdGlvbi5xdWVyeVNlbGVjdG9yKCdbZGF0YS1qcy10cmlnZ2VyXScpLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xyXG4gICAgICAgICAgICAkcXVlc3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBvbkxvYWQgZnJvbSAnLi4vLi4vanMvbGliL29uLWxvYWQnO1xyXG5pbXBvcnQgZWFjaCBmcm9tICcuLi8uLi9qcy9saWIvZWFjaCc7XHJcbmltcG9ydCB7IG1xIH0gZnJvbSAnLi4vLi4vanMvbGliL21xJ1xyXG5pbXBvcnQgcmVnaXN0ZXJNb2R1bGUgZnJvbSBcIi4uLy4uL2pzL2xpYi9yZWdpc3Rlci1tb2R1bGVcIjtcclxuaW1wb3J0IERvbUNvbXBvbmVudCBmcm9tIFwiLi4vLi4vanMvbGliL2RvbS1jb21wb25lbnRcIjtcclxuXHJcbmNsYXNzIEhvcml6b250YWxTY3JvbGxlciBleHRlbmRzIERvbUNvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoJGRvbUVsZW1lbnQpIHtcclxuXHRcdHN1cGVyKCRkb21FbGVtZW50KTtcclxuXHRcdHRoaXMuaGFzU2Nyb2xsID0gZmFsc2U7XHJcblx0XHR0aGlzLiR3cmFwcGVyID0gdGhpcy4kZG9tRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcudW13LWhvcml6b250YWwtc2Nyb2xsZXJfX3dyYXBwZXInKTtcclxuXHRcdHRoaXMuJGRvbUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsJyk7XHJcblx0XHR0aGlzLmNoZWNrRm9yU2Nyb2xsKCk7XHJcblxyXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuY2hlY2tGb3JTY3JvbGwuYmluZCh0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRjaGVja0ZvclNjcm9sbCgpIHtcclxuXHRcdGlmICh0aGlzLmlzU2Nyb2xsYWJsZSgpICYmICF0aGlzLmhhc1Njcm9sbCkge1xyXG5cdFx0XHR0aGlzLmNyZWF0ZVRodW1iKCk7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmICghdGhpcy5pc1Njcm9sbGFibGUoKSAmJiB0aGlzLmhhc1Njcm9sbCkge1xyXG5cdFx0XHR0aGlzLnJlbW92ZVNjcm9sbGVyKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZW1vdmVTY3JvbGxlcigpIHtcclxuXHRcdHRoaXMuaGFzU2Nyb2xsID0gZmFsc2U7XHJcblx0XHRpZiAodGhpcy4kdHJhY2spIHtcclxuXHRcdFx0dGhpcy4kdHJhY2sucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpc1Njcm9sbGFibGUoKSB7XHJcblx0XHRjb25zdCBjaGlsZHJlbiA9IHRoaXMuJGRvbUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnVtdy1ob3Jpem9udGFsLXNjcm9sbGVyX19jb2x1bW4nKTtcclxuXHRcdGxldCB3aWR0aCA9IDA7XHJcblx0XHRlYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcclxuXHRcdFx0d2lkdGggKz0gY2hpbGQub2Zmc2V0V2lkdGg7XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIDwgd2lkdGg7XHJcblx0fVxyXG5cclxuXHRjcmVhdGVUaHVtYigpIHtcclxuXHRcdHRoaXMuaGFzU2Nyb2xsID0gdHJ1ZTtcclxuXHRcdGNvbnN0IGh0bWwgPSBgXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJzY3JvbGxfX3RyYWNrXCIganMtdHJhY2s+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInNjcm9sbF9fdGh1bWJcIiBqcy10aHVtYiAvPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdGA7XHJcblx0XHR0aGlzLiRkb21FbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBodG1sKTtcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNldFVwQmluZGluZ3MoKTtcclxuXHRcdH0sIDUwKTtcclxuXHR9XHJcblxyXG5cdHNldFVwQmluZGluZ3MoKSB7XHJcblx0XHR0aGlzLiR0cmFjayA9IHRoaXMuJGRvbUVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG5cdFx0dGhpcy4kdGh1bWIgPSB0aGlzLiRkb21FbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdbanMtdGh1bWJdJyk7XHJcblx0XHRcclxuXHRcdHRoaXMubGVuZ3RoT2ZTY3JvbGwgPSB0aGlzLiR0cmFjay5vZmZzZXRXaWR0aCAtIHRoaXMuJHRodW1iLm9mZnNldFdpZHRoO1xyXG5cdFx0dGhpcy4kd3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5pbml0aWFsaXplU2Nyb2xsQmFyKCk7XHJcblx0fVxyXG5cdFxyXG5cdGluaXRpYWxpemVTY3JvbGxCYXIoKSB7XHJcblx0XHQvLyBjb25zdCBwYWRkaW5nID0gNDggLSA4OyAvLyB0aGlzIGlzIHRoZSAyNHB4IHBhZGRpbmcgb24gZWFjaCBzaWRlLiBXZSBzdWJ0cmFjdCA4IGFzIHRoaXMgaXMgdGhlIHBsYWNlaG9sZGVyIHRvIGdpdmUgdXMgYSBmbHVzaCBhbGlnbm1lbnRcclxuXHRcdHRoaXMudG90YWxXaWR0aCA9IHRoaXMuJHdyYXBwZXIuc2Nyb2xsV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XHJcblx0XHR0aGlzLnNjcm9sbFJhdGlvID0gdGhpcy5sZW5ndGhPZlNjcm9sbCAvIHRoaXMudG90YWxXaWR0aDtcclxuXHR9XHJcblxyXG5cdG9uU2Nyb2xsKCkge1xyXG5cdFx0Ly8gY29uc3QgYW1vdW50U2Nyb2xsZWQgPSAodGhpcy4kZG9tRWxlbWVudC5zY3JvbGxMZWZ0IC8gdGhpcy50b3RhbFdpZHRoKSAqIDEwMDtcclxuXHRcdGNvbnN0IGFtb3VudFNjcm9sbGVkID0gdGhpcy4kd3JhcHBlci5zY3JvbGxMZWZ0ICogdGhpcy5zY3JvbGxSYXRpbztcclxuXHRcdHRoaXMuJHRodW1iLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7YW1vdW50U2Nyb2xsZWR9cHgpYDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBpbml0KCkge1xyXG5cdFx0aWYgKCFtcSgnbWQnKSkge1xyXG5cdFx0XHRvbkxvYWQoKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHNjcm9sbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tqcy1ob3Jpem9udGFsLXNjcm9sbF0nKTtcclxuXHRcdFx0XHRBcnJheS5mcm9tKHNjcm9sbCkubWFwKGVsID0+IG5ldyBIb3Jpem9udGFsU2Nyb2xsKGVsKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxucmVnaXN0ZXJNb2R1bGUoJ2hvcml6b250YWwtc2Nyb2xsZXInLCBIb3Jpem9udGFsU2Nyb2xsZXIpOyIsImltcG9ydCBvbkxvYWQgZnJvbSAnLi4vbGliL29uLWxvYWQnO1xyXG5pbXBvcnQgZWFjaCBmcm9tICcuLi9saWIvZWFjaCc7XHJcbmltcG9ydCB7IG1xIH0gZnJvbSAnLi4vbGliL21xJztcclxuXHJcbmNsYXNzIEhvcml6b250YWxTY3JvbGwge1xyXG5cdGNvbnN0cnVjdG9yKCRlbCkge1xyXG5cdFx0dGhpcy4kZWwgPSAkZWw7XHJcblx0XHR0aGlzLiRpbm5lciA9IHRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkO1xyXG5cdFx0dGhpcy4kZWwuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsJyk7XHJcblx0XHRpZiAodGhpcy5pc1Njcm9sbGFibGUoKSkge1xyXG5cdFx0XHR0aGlzLmNyZWF0ZVRodW1iKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpc1Njcm9sbGFibGUoKSB7XHJcblx0XHRjb25zdCBjaGlsZHJlbiA9IHRoaXMuJGlubmVyLmNoaWxkcmVuO1xyXG5cdFx0bGV0IHdpZHRoID0gMDtcclxuXHRcdGVhY2goY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xyXG5cdFx0XHR3aWR0aCArPSBjaGlsZC5vZmZzZXRXaWR0aDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPCB3aWR0aDtcclxuXHR9XHJcblxyXG5cdGNyZWF0ZVRodW1iKCkge1xyXG5cdFx0Y29uc3QgaHRtbCA9IGBcclxuXHRcdFx0PGRpdiBjbGFzcz1cInNjcm9sbF9fdHJhY2tcIiBqcy10cmFjaz5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwic2Nyb2xsX190aHVtYlwiIGpzLXRodW1iIC8+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0YDtcclxuXHRcdHRoaXMuJGVsLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBodG1sKTtcclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHR0aGlzLnNldFVwQmluZGluZ3MoKTtcclxuXHRcdH0sIDUwKTtcclxuXHR9XHJcblxyXG5cdHNldFVwQmluZGluZ3MoKSB7XHJcblx0XHR0aGlzLiR0cmFjayA9IHRoaXMuJGVsLm5leHRFbGVtZW50U2libGluZztcclxuXHRcdHRoaXMuJHRodW1iID0gdGhpcy4kZWwubmV4dEVsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ1tqcy10aHVtYl0nKTtcclxuXHRcdFxyXG5cdFx0dGhpcy5sZW5ndGhPZlNjcm9sbCA9IHRoaXMuJHRyYWNrLm9mZnNldFdpZHRoIC0gdGhpcy4kdGh1bWIub2Zmc2V0V2lkdGg7XHJcblx0XHR0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpO1xyXG5cdFx0dGhpcy5pbml0aWFsaXplU2Nyb2xsQmFyKCk7XHJcblx0fVxyXG5cdFxyXG5cdGluaXRpYWxpemVTY3JvbGxCYXIoKSB7XHJcblx0XHQvLyBjb25zdCBwYWRkaW5nID0gNDggLSA4OyAvLyB0aGlzIGlzIHRoZSAyNHB4IHBhZGRpbmcgb24gZWFjaCBzaWRlLiBXZSBzdWJ0cmFjdCA4IGFzIHRoaXMgaXMgdGhlIHBsYWNlaG9sZGVyIHRvIGdpdmUgdXMgYSBmbHVzaCBhbGlnbm1lbnRcclxuXHRcdHRoaXMudG90YWxXaWR0aCA9IHRoaXMuJGVsLnNjcm9sbFdpZHRoIC0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xyXG5cdFx0dGhpcy5zY3JvbGxSYXRpbyA9IHRoaXMubGVuZ3RoT2ZTY3JvbGwgLyB0aGlzLnRvdGFsV2lkdGg7XHJcblx0fVxyXG5cclxuXHRvblNjcm9sbCgpIHtcclxuXHRcdC8vIGNvbnN0IGFtb3VudFNjcm9sbGVkID0gKHRoaXMuJGVsLnNjcm9sbExlZnQgLyB0aGlzLnRvdGFsV2lkdGgpICogMTAwO1xyXG5cdFx0Y29uc3QgYW1vdW50U2Nyb2xsZWQgPSB0aGlzLiRlbC5zY3JvbGxMZWZ0ICogdGhpcy5zY3JvbGxSYXRpbztcclxuXHRcdHRoaXMuJHRodW1iLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7YW1vdW50U2Nyb2xsZWR9cHgpYDtcclxuXHR9XHJcblxyXG5cdHN0YXRpYyBpbml0KCkge1xyXG5cdFx0aWYgKCFtcSgnbWQnKSkge1xyXG5cdFx0XHRvbkxvYWQoKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHNjcm9sbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tqcy1ob3Jpem9udGFsLXNjcm9sbF0nKTtcclxuXHRcdFx0XHRBcnJheS5mcm9tKHNjcm9sbCkubWFwKGVsID0+IG5ldyBIb3Jpem9udGFsU2Nyb2xsKGVsKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSG9yaXpvbnRhbFNjcm9sbDsiLCJpbXBvcnQgZWFjaCBmcm9tIFwiLi4vLi4vanMvbGliL2VhY2hcIjtcclxuaW1wb3J0IHsgJCB9IGZyb20gXCIuLi8uLi9qcy9saWIvY29uc3RcIjtcclxuaW1wb3J0ICcuLi8uLi9qcy9jb21wb25lbnRzL3NlbGVjdCc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyYXZpdHlGb3JtIHtcclxuXHJcblx0Y29uc3RydWN0b3IoJGZvcm0pIHtcclxuXHRcdHRoaXMuJGZvcm0gPSAkZm9ybTtcclxuXHRcdHRoaXMuJGlucHV0cyA9IHRoaXMuJGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdLCBpbnB1dFt0eXBlPVwidGVsXCJdLCB0ZXh0YXJlYSwgc2VsZWN0Jyk7XHJcblxyXG5cdFx0dGhpcy5iaW5kRXZlbnRzKCk7XHJcblx0XHQkKCdzZWxlY3QnLCB0aGlzLiRmb3JtKS5uaWNlU2VsZWN0KCk7XHJcblx0fVxyXG5cclxuXHRiaW5kRXZlbnRzKCkge1xyXG5cdFx0ZWFjaCh0aGlzLiRpbnB1dHMsIChpbnB1dCkgPT4ge1xyXG5cdFx0XHRpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5vbkJsdXIuYmluZCh0aGlzKSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdG9uQmx1cihlKSB7XHJcblx0XHRpZiAoZS5jdXJyZW50VGFyZ2V0LnZhbHVlLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0ZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hhcy1pbnB1dCcpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtaW5wdXQnKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHN0YXRpYyBpbml0KCkge1xyXG5cdFx0QXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2Zvcm1fd3JhcHBlciBmb3JtJykpXHJcblx0XHQubWFwKGZvcm0gPT4gbmV3IEdyYXZpdHlGb3JtKGZvcm0pKTtcclxuXHR9XHJcbn0iLCJpbXBvcnQgSW1hZ2VHYWxsZXJ5IGZyb20gJy4vYmxvY2tzL2ltYWdlLWdhbGxlcnkvaW1hZ2UtZ2FsbGVyeS5ibG9jayc7XHJcbmltcG9ydCBDYXJvdXNlbCBmcm9tICcuL2Jsb2Nrcy9wdWxsLXF1b3Rlcy9wdWxsLXF1b3Rlcy5ibG9jayc7XHJcbmltcG9ydCBTaWRlYmFyIGZyb20gJy4vc2lkZWJhci9zaWRlYmFyJztcclxuaW1wb3J0IHJlZ2lzdGVyTW9kdWxlIGZyb20gXCIuL2pzL2xpYi9yZWdpc3Rlci1tb2R1bGVcIjtcclxuaW1wb3J0IGZlYXR1cmVkTmV3cyBmcm9tICcuLi9zcmMvYmxvY2tzL2ZlYXR1cmVkLWNvbnRlbnQvZmVhdHVyZWQtbmV3cyc7XHJcblxyXG5pbXBvcnQgJy4vc3R5bGVzL3N0eWxlcy5zY3NzJztcclxuaW1wb3J0ICcuL2Jsb2Nrcy9oZXJvLWludHJvL2hlcm8taW50cm8uYmxvY2snO1xyXG5pbXBvcnQgJy4vYmxvY2tzL3B1bGwtcXVvdGVzL3B1bGwtcXVvdGVzLmJsb2NrJztcclxuaW1wb3J0ICcuL2Jsb2Nrcy9mZWF0dXJlZC1jb250ZW50L2ZlYXR1cmVkLWNvbnRlbnQuYmxvY2snO1xyXG5pbXBvcnQgJy4vYmxvY2tzL3ZpZGVvL3ZpZGVvLmJsb2NrJztcclxuaW1wb3J0ICcuL3NpZGViYXIvc2lkZWJhcic7XHJcbmltcG9ydCAnLi9ibG9ja3MvYWNjb3JkaW9uL2FjY29yZGlvbi5ibG9jayc7XHJcbmltcG9ydCAnLi9ibG9ja3MvaG9yaXpvbnRhbC1zY3JvbGxlci9ob3Jpem9udGFsLXNjcm9sbGVyLmJsb2NrJztcclxuXHJcbmltcG9ydCBFeHBhbmRhYmxlIGZyb20gJy4vanMvY29tcG9uZW50cy9leHBhbmRhYmxlJztcclxuaW1wb3J0IEhvcml6b250YWxTY3JvbGwgZnJvbSAnLi9qcy9zZXJ2aWNlcy9ob3Jpem9udGFsLXNjcm9sbCc7XHJcbmltcG9ydCBvbkxvYWQgZnJvbSAnLi9qcy9saWIvb24tbG9hZCc7XHJcbmltcG9ydCBHcmF2aXR5Rm9ybSBmcm9tICcuL2NvbXBvbmVudHMvZm9ybXMvZm9ybXMnO1xyXG5cclxuLyoqXHJcbiAqIElmIHRoZXJlIGlzIGEgc2lkZWJhciBvbiB0aGUgcGFnZSwgbW92ZSB0aGUgSW50cm8gVGV4dCBhbmQgQnV0dG9uIGJsb2NrcyBvdXRcclxuICogb2YgdGhlIEhlcm8gYW5kIGludG8gdGhlIG1haW4gY29udGVudC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaGVybyBUaGUgSGVybyBibG9jay5cclxuICovXHJcbmNvbnN0IG1hbmlwdWxhdGVIZXJvRm9yU2lkZWJhciA9IGhlcm8gPT4ge1xyXG4gICAgY29uc3QgbWFpbkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudW13LWJsb2NrLWNvbnRlbnQgPiAuZW50cnktY29udGVudCcpO1xyXG4gICAgY29uc3QgaGVyb0ludHJvVGV4dENvbnRhaW5lciA9IGhlcm8ucXVlcnlTZWxlY3RvcignLndwLWJsb2NrLXVtdy1oZXJvLWludHJvLXRleHQnKTtcclxuICAgIGNvbnN0IGhlcm9JbnRyb1RleHQgPSBoZXJvLnF1ZXJ5U2VsZWN0b3IoJy51bXctaW50cm8tdGV4dCcpO1xyXG4gICAgY29uc3QgaGVyb0J1dHRvbnNDb250YWluZXIgPSBoZXJvLnF1ZXJ5U2VsZWN0b3IoJy53cC1ibG9jay11bXctaGVyby1jdGFzJyk7XHJcbiAgICBjb25zdCBoZXJvQnV0dG9ucyA9IGhlcm8ucXVlcnlTZWxlY3RvckFsbCgnLnVtdy1oZXJvX19saW5rc19fd3JhcHBlciA+IConKTtcclxuXHJcbiAgICAvLyBNb3ZlIGJ1dHRvbnMgYmFjayBpbnRvIHRoZSBtYWluIGNvbnRlbnQgZmlyc3QsIHNvIG1vdmVkIGludHJvIHRleHQgd2lsbCBnbyBhYm92ZSB0aGVtLlxyXG4gICAgaWYgKGhlcm9CdXR0b25zLmxlbmd0aCkge1xyXG4gICAgICAgIEFycmF5LmZyb20oaGVyb0J1dHRvbnMpLnJldmVyc2UoKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgbWFpbkNvbnRlbnQuaW5zZXJ0QmVmb3JlKGVsLCBtYWluQ29udGVudC5maXJzdENoaWxkKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaGVyb0J1dHRvbnNDb250YWluZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChoZXJvQnV0dG9uc0NvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTW92ZSB0aGUgaW50cm8gdGV4dCBiYWNrIGludG8gdGhlIG1haW4gY29udGVudC5cclxuICAgIGlmIChoZXJvSW50cm9UZXh0KSB7XHJcbiAgICAgICAgbWFpbkNvbnRlbnQuaW5zZXJ0QmVmb3JlKGhlcm9JbnRyb1RleHQsIG1haW5Db250ZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgIGhlcm9JbnRyb1RleHRDb250YWluZXIucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChoZXJvSW50cm9UZXh0Q29udGFpbmVyKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBJZiB0aGVyZSBpcyBJbnRybyBUZXh0IGluc2lkZSBhIEhlcm8sIHRoZSBicmVhZGNydW1iIHNob3VsZCBiZSBhYm92ZVxyXG4gKiB0aGF0IEludHJvIFRleHQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJyZWFkY3J1bWIgVGhlIGJyZWFkY3J1bWIgY29udGFpbmVyLlxyXG4gKi9cclxuY29uc3QgbWFuaXB1bGF0ZUJyZWFkY3J1bWIgPSBicmVhZGNydW1iID0+IHtcclxuICAgIC8vIEZpbmQgYW4gSW50cm8gVGV4dCBibG9jayBpbiBhIEhlcm8uXHJcbiAgICBjb25zdCB2YWxpZEludHJvVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXlvdXQgPiAudW13LWhlcm8gLnVtdy1pbnRyby10ZXh0X19pbm5lcicpO1xyXG5cclxuICAgIGlmICh2YWxpZEludHJvVGV4dCkge1xyXG4gICAgICAgIC8vIE1vdmUgdGhlIGJyZWFkY3J1bWIgaW50byB0aGUgaGVybyBhYm92ZSB0aGUgSW50cm8gVGV4dCBibG9jay5cclxuICAgICAgICB2YWxpZEludHJvVGV4dC5pbnNlcnRCZWZvcmUoYnJlYWRjcnVtYiwgdmFsaWRJbnRyb1RleHQuZmlyc3RDaGlsZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogRG8gYWxsIGhlcm8gYW5kIGJyZWFkY3J1bWIgbWFuaXB1bGF0aW9uIGluIHRoZSByaWdodCBvcmRlciBhbmQgb25seSB3aGVuIG5lY2Vzc2FyeS5cclxuICovXHJcbmNvbnN0IG1hbmlwdWxhdGVIZXJvQW5kQnJlYWRjcnVtYiA9ICgpID0+IHtcclxuICAgIGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudW13LXNpZGViYXInKTtcclxuICAgIGNvbnN0IHN0YXJ0aW5nSGVybyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXlvdXQgPiAudW13LWhlcm8nKTtcclxuICAgIGNvbnN0IGJyZWFkY3J1bWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnJlYWRjcnVtYicpXHJcblxyXG4gICAgaWYgKHNpZGViYXIgJiYgc3RhcnRpbmdIZXJvKSB7XHJcbiAgICAgICAgbWFuaXB1bGF0ZUhlcm9Gb3JTaWRlYmFyKHN0YXJ0aW5nSGVybyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFzaWRlYmFyICYmIHN0YXJ0aW5nSGVybyAmJiBicmVhZGNydW1iKSB7XHJcbiAgICAgICAgbWFuaXB1bGF0ZUJyZWFkY3J1bWIoYnJlYWRjcnVtYik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQmFpbCBvdXQgaWYgbm8gYnJlYWRjcnVtYi5cclxuICAgIGlmICghYnJlYWRjcnVtYikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlIHRoZSBtb2JpbGUgYnJlYWRjcnVtYiBiYWNrIGFycm93IGludG8gdGhlIGxpbmsgZWxlbWVudCwgd2hpY2ggaXMgbm90XHJcbiAgICAvLyBhcyBlYXN5IHRvIGRvIGluIFBIUC5cclxuICAgIGNvbnN0IHByZXZpb3VzID0gYnJlYWRjcnVtYi5xdWVyeVNlbGVjdG9yKCcuYnJlYWRjcnVtYl9fcHJldmlvdXMnKTtcclxuICAgIGNvbnN0IHN2ZyA9IHByZXZpb3VzLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpO1xyXG4gICAgY29uc3QgcHJldmlvdXNMaW5rID0gcHJldmlvdXMucXVlcnlTZWxlY3RvcignYScpO1xyXG5cclxuICAgIGlmIChzdmcgJiYgcHJldmlvdXNMaW5rKSB7XHJcbiAgICAgICAgcHJldmlvdXNMaW5rLmluc2VydEJlZm9yZShzdmcsIHByZXZpb3VzTGluay5maXJzdENoaWxkKTtcclxuICAgIH1cclxuXHJcblxyXG59O1xyXG5cclxuLy8gVGFza3MgdG8gZG8gb24gdGhlIHdpbmRvdydzIGBsb2FkYCBldmVudDsgc2VlIGJlbG93LlxyXG5jb25zdCBvbkZ1bGxMb2FkID0gKCkgPT4ge1xyXG4gICAgd2luZG93LmltYWdlR2FsbGVyaWVzID0gW107XHJcblxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmltYWdlLWdhbGxlcnknKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICB3aW5kb3cuaW1hZ2VHYWxsZXJpZXMucHVzaChuZXcgSW1hZ2VHYWxsZXJ5KGVsKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudW13LXNpZGViYXInKS5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICBuZXcgU2lkZWJhcihlbCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG4vLyBUaGUgYGZhbHNlYCBpbiB0aGUgc2Vjb25kIHBhcmFtZXRlciBoZXJlIG1ha2VzIHRoZSBjYWxsYmFjayBydW4gb24gdGhlXHJcbi8vIHdpbmRvdydzIGBsb2FkYCBldmVudCwgbGF0ZXIgdGhhbiB0aGUgdXN1YWwgRE9NQ29udGVudExvYWRlZC4gVGhpcyBpc1xyXG4vLyBuZWVkZWQgdG8gZ2V0IGltYWdlIGdhbGxlcnkgaW5pdGlhbGl6YXRpb24gcmlnaHQsIHNpbmNlIGl0IGRlcGVuZHMgb25cclxuLy8gaW1hZ2UgZGltZW5zaW9ucy5cclxub25Mb2FkKFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICAgIEhvcml6b250YWxTY3JvbGwuaW5pdCgpO1xyXG4gICAgICAgIEV4cGFuZGFibGUuaW5pdCgpO1xyXG4gICAgICAgIEdyYXZpdHlGb3JtLmluaXQoKTtcclxuXHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNnZW5lc2lzLWNvbnRlbnQnKSkge1xyXG4gICAgICAgICAgICBvbkZ1bGxMb2FkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVnaXN0ZXJNb2R1bGUoJ2ltYWdlLWdhbGxlcnknLCBJbWFnZUdhbGxlcnkpO1xyXG4gICAgICAgICAgICByZWdpc3Rlck1vZHVsZSgnY2Fyb3VzZWwnLCBDYXJvdXNlbCk7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyTW9kdWxlKCdzaWRlYmFyJywgU2lkZWJhcik7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyTW9kdWxlKCdoZWFkZXInLCBIZWFkZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBmYWxzZVxyXG4pO1xyXG5cclxuLy8gSW1tZWRpYXRlbHkgdXBvbiBET01Db250ZW50TG9hZGVkLlxyXG5vbkxvYWQoKCkgPT4ge1xyXG4gICAgbWFuaXB1bGF0ZUhlcm9BbmRCcmVhZGNydW1iKCk7XHJcbiAgICBmZWF0dXJlZE5ld3MoKTtcclxufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///839\n")},827:()=>{eval("/*  jQuery Nice Select - v1.1.0\r\n    https://github.com/hernansartorio/jquery-nice-select\r\n    Made by Hernán Sartorio  */\n\n(function ($) {\n  $.fn.niceSelect = function (method) {\n    // Methods\n    if (typeof method == 'string') {\n      if (method == 'update') {\n        this.each(function () {\n          var $select = $(this);\n          var $dropdown = $(this).next('.nice-select');\n          var open = $dropdown.hasClass('open');\n          if ($dropdown.length) {\n            $dropdown.remove();\n            create_nice_select($select);\n            if (open) {\n              $select.next().trigger('click');\n            }\n          }\n        });\n      } else if (method == 'destroy') {\n        this.each(function () {\n          var $select = $(this);\n          var $dropdown = $(this).next('.nice-select');\n          if ($dropdown.length) {\n            $dropdown.remove();\n            $select.css('display', '');\n          }\n        });\n        if ($('.nice-select').length == 0) {\n          $(document).off('.nice_select');\n        }\n      } else {\n        console.log('Method \"' + method + '\" does not exist.');\n      }\n      return this;\n    }\n\n    // Hide native select\n    this.hide();\n\n    // Create custom markup\n    this.each(function () {\n      var $select = $(this);\n      if (!$select.next().hasClass('nice-select')) {\n        create_nice_select($select);\n      }\n    });\n    function copyLabel($select) {\n      const id = $select.attr(\"id\");\n      const correspondingLabel = $('label[for=\"' + id + '\"]');\n      const clone = correspondingLabel.clone();\n      correspondingLabel.remove();\n      return clone;\n    }\n    function create_nice_select($select) {\n      /*var label = copyLabel($select);*/\n      $select.after($('<div></div>').addClass('nice-select').addClass($select.attr('class') || '').addClass($select.attr('disabled') ? 'disabled' : '').attr('tabindex', $select.attr('disabled') ? null : '0').html('<span class=\"current\"></span><ul class=\"list\"></ul>' /* + label[0].outerHTML*/));\n      var $dropdown = $select.next();\n      var $options = $select.find('option');\n      var $selected = $select.find('option:selected');\n      $dropdown.find('.current').html($selected.data('display') || $selected.text());\n      $options.each(function (i) {\n        var $option = $(this);\n        var display = $option.data('display');\n        if ($option.val() != null && $option.val() != '') {\n          $dropdown.find('ul').append($('<li></li>').attr('data-value', $option.val()).attr('data-display', display || null).addClass('option' + ($option.is(':selected') ? ' selected' : '') + ($option.is(':disabled') ? ' disabled' : '')).html($option.text()));\n        }\n      });\n    }\n\n    /* Event listeners */\n\n    // Unbind existing events in case that the plugin has been initialized before\n    $(document).off('.nice_select');\n\n    // Open/close\n    $(document).on('click.nice_select', '.nice-select', function (event) {\n      var $dropdown = $(this);\n      $('.nice-select').not($dropdown).removeClass('open');\n      $dropdown.toggleClass('open');\n      if ($dropdown.hasClass('open')) {\n        $dropdown.find('.option');\n        $dropdown.find('.focus').removeClass('focus');\n        $dropdown.find('.selected').addClass('focus');\n      } else {\n        $dropdown.focus();\n      }\n    });\n\n    // Close when clicking outside\n    $(document).on('click.nice_select', function (event) {\n      if ($(event.target).closest('.nice-select').length === 0) {\n        $('.nice-select').removeClass('open').find('.option');\n      }\n    });\n\n    // Option click\n    $(document).on('click.nice_select', '.nice-select .option:not(.disabled)', function (event) {\n      var $option = $(this);\n      var $dropdown = $option.closest('.nice-select');\n      $dropdown.addClass('has-input');\n      $dropdown.find('.selected').removeClass('selected');\n      $option.addClass('selected');\n      var text = $option.data('display') || $option.text();\n      $dropdown.find('.current').text(text);\n      $dropdown.prev('select').val($option.data('value')).trigger('change');\n    });\n\n    // Keyboard events\n    $(document).on('keydown.nice_select', '.nice-select', function (event) {\n      var $dropdown = $(this);\n      var $focused_option = $($dropdown.find('.focus') || $dropdown.find('.list .option.selected'));\n\n      // Space or Enter\n      if (event.keyCode == 32 || event.keyCode == 13) {\n        if ($dropdown.hasClass('open')) {\n          $focused_option.trigger('click');\n        } else {\n          $dropdown.trigger('click');\n        }\n        return false;\n        // Down\n      } else if (event.keyCode == 40) {\n        if (!$dropdown.hasClass('open')) {\n          $dropdown.trigger('click');\n        } else {\n          var $next = $focused_option.nextAll('.option:not(.disabled)').first();\n          if ($next.length > 0) {\n            $dropdown.find('.focus').removeClass('focus');\n            $next.addClass('focus');\n          }\n        }\n        return false;\n        // Up\n      } else if (event.keyCode == 38) {\n        if (!$dropdown.hasClass('open')) {\n          $dropdown.trigger('click');\n        } else {\n          var $prev = $focused_option.prevAll('.option:not(.disabled)').first();\n          if ($prev.length > 0) {\n            $dropdown.find('.focus').removeClass('focus');\n            $prev.addClass('focus');\n          }\n        }\n        return false;\n        // Esc\n      } else if (event.keyCode == 27) {\n        if ($dropdown.hasClass('open')) {\n          $dropdown.trigger('click');\n        }\n        // Tab\n      } else if (event.keyCode == 9) {\n        if ($dropdown.hasClass('open')) {\n          return false;\n        }\n      }\n    });\n\n    // Detect CSS pointer-events support, for IE <= 10. From Modernizr.\n    var style = document.createElement('a').style;\n    style.cssText = 'pointer-events:auto';\n    if (style.pointerEvents !== 'auto') {\n      $('html').addClass('no-csspointerevents');\n    }\n\n    /*var label = $dropdown.querySelector('label');\r\n    var container = $dropdown.closest('.gfield');\r\n    container.prepend(label);*/\n\n    return this;\n  };\n})(jQuery);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI3LmpzIiwibmFtZXMiOlsiJCIsImZuIiwibmljZVNlbGVjdCIsIm1ldGhvZCIsImVhY2giLCIkc2VsZWN0IiwiJGRyb3Bkb3duIiwibmV4dCIsIm9wZW4iLCJoYXNDbGFzcyIsImxlbmd0aCIsInJlbW92ZSIsImNyZWF0ZV9uaWNlX3NlbGVjdCIsInRyaWdnZXIiLCJjc3MiLCJkb2N1bWVudCIsIm9mZiIsImNvbnNvbGUiLCJsb2ciLCJoaWRlIiwiY29weUxhYmVsIiwiaWQiLCJhdHRyIiwiY29ycmVzcG9uZGluZ0xhYmVsIiwiY2xvbmUiLCJhZnRlciIsImFkZENsYXNzIiwiaHRtbCIsIiRvcHRpb25zIiwiZmluZCIsIiRzZWxlY3RlZCIsImRhdGEiLCJ0ZXh0IiwiaSIsIiRvcHRpb24iLCJkaXNwbGF5IiwidmFsIiwiYXBwZW5kIiwiaXMiLCJvbiIsImV2ZW50Iiwibm90IiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsImZvY3VzIiwidGFyZ2V0IiwiY2xvc2VzdCIsInByZXYiLCIkZm9jdXNlZF9vcHRpb24iLCJrZXlDb2RlIiwiJG5leHQiLCJuZXh0QWxsIiwiZmlyc3QiLCIkcHJldiIsInByZXZBbGwiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJjc3NUZXh0IiwicG9pbnRlckV2ZW50cyIsImpRdWVyeSJdLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvY29tcG9uZW50cy9zZWxlY3QuanM/MmFkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiAgalF1ZXJ5IE5pY2UgU2VsZWN0IC0gdjEuMS4wXHJcbiAgICBodHRwczovL2dpdGh1Yi5jb20vaGVybmFuc2FydG9yaW8vanF1ZXJ5LW5pY2Utc2VsZWN0XHJcbiAgICBNYWRlIGJ5IEhlcm7DoW4gU2FydG9yaW8gICovXHJcbiBcclxuXHQoZnVuY3Rpb24oJCkge1xyXG5cclxuXHRcdCQuZm4ubmljZVNlbGVjdCA9IGZ1bmN0aW9uKG1ldGhvZCkge1xyXG5cdFx0ICBcclxuXHRcdCAgLy8gTWV0aG9kc1xyXG5cdFx0ICBpZiAodHlwZW9mIG1ldGhvZCA9PSAnc3RyaW5nJykgeyAgICAgIFxyXG5cdFx0XHRpZiAobWV0aG9kID09ICd1cGRhdGUnKSB7XHJcblx0XHRcdCAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkc2VsZWN0ID0gJCh0aGlzKTtcclxuXHRcdFx0XHR2YXIgJGRyb3Bkb3duID0gJCh0aGlzKS5uZXh0KCcubmljZS1zZWxlY3QnKTtcclxuXHRcdFx0XHR2YXIgb3BlbiA9ICRkcm9wZG93bi5oYXNDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmICgkZHJvcGRvd24ubGVuZ3RoKSB7XHJcblx0XHRcdFx0ICAkZHJvcGRvd24ucmVtb3ZlKCk7XHJcblx0XHRcdFx0ICBjcmVhdGVfbmljZV9zZWxlY3QoJHNlbGVjdCk7XHJcblxyXG5cdFx0XHRcdCAgaWYgKG9wZW4pIHtcclxuXHRcdFx0XHRcdCRzZWxlY3QubmV4dCgpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcblx0XHRcdFx0ICB9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQgIH0pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKG1ldGhvZCA9PSAnZGVzdHJveScpIHtcclxuXHRcdFx0ICB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyICRzZWxlY3QgPSAkKHRoaXMpO1xyXG5cdFx0XHRcdHZhciAkZHJvcGRvd24gPSAkKHRoaXMpLm5leHQoJy5uaWNlLXNlbGVjdCcpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmICgkZHJvcGRvd24ubGVuZ3RoKSB7XHJcblx0XHRcdFx0ICAkZHJvcGRvd24ucmVtb3ZlKCk7XHJcblx0XHRcdFx0ICAkc2VsZWN0LmNzcygnZGlzcGxheScsICcnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCAgfSk7XHJcblx0XHRcdCAgaWYgKCQoJy5uaWNlLXNlbGVjdCcpLmxlbmd0aCA9PSAwKSB7XHJcblx0XHRcdFx0JChkb2N1bWVudCkub2ZmKCcubmljZV9zZWxlY3QnKTtcclxuXHRcdFx0ICB9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdCAgY29uc29sZS5sb2coJ01ldGhvZCBcIicgKyBtZXRob2QgKyAnXCIgZG9lcyBub3QgZXhpc3QuJylcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdCAgfVxyXG5cdFx0XHRcclxuXHRcdCAgLy8gSGlkZSBuYXRpdmUgc2VsZWN0XHJcblx0XHQgIHRoaXMuaGlkZSgpO1xyXG5cdFx0ICBcclxuXHRcdCAgLy8gQ3JlYXRlIGN1c3RvbSBtYXJrdXBcclxuXHRcdCAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJHNlbGVjdCA9ICQodGhpcyk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoISRzZWxlY3QubmV4dCgpLmhhc0NsYXNzKCduaWNlLXNlbGVjdCcpKSB7XHJcblx0XHRcdCAgY3JlYXRlX25pY2Vfc2VsZWN0KCRzZWxlY3QpO1xyXG5cdFx0XHR9XHJcblx0XHQgIH0pO1xyXG5cclxuXHRcdCAgZnVuY3Rpb24gY29weUxhYmVsKCRzZWxlY3QpIHtcclxuXHRcdFx0Y29uc3QgaWQgPSAkc2VsZWN0LmF0dHIoXCJpZFwiKTtcclxuXHRcdFx0Y29uc3QgY29ycmVzcG9uZGluZ0xhYmVsID0gJCgnbGFiZWxbZm9yPVwiJytpZCsnXCJdJyk7XHJcblx0XHRcdGNvbnN0IGNsb25lID0gY29ycmVzcG9uZGluZ0xhYmVsLmNsb25lKCk7XHJcblx0XHRcdGNvcnJlc3BvbmRpbmdMYWJlbC5yZW1vdmUoKTtcclxuXHRcdFx0cmV0dXJuIGNsb25lO1xyXG5cdFx0ICB9XHJcblx0XHQgIFxyXG5cdFx0ICBmdW5jdGlvbiBjcmVhdGVfbmljZV9zZWxlY3QoJHNlbGVjdCkge1xyXG5cdFx0XHQvKnZhciBsYWJlbCA9IGNvcHlMYWJlbCgkc2VsZWN0KTsqL1xyXG5cdFx0XHQkc2VsZWN0LmFmdGVyKCQoJzxkaXY+PC9kaXY+JylcclxuXHRcdFx0ICAuYWRkQ2xhc3MoJ25pY2Utc2VsZWN0JylcclxuXHRcdFx0ICAuYWRkQ2xhc3MoJHNlbGVjdC5hdHRyKCdjbGFzcycpIHx8ICcnKVxyXG5cdFx0XHQgIC5hZGRDbGFzcygkc2VsZWN0LmF0dHIoJ2Rpc2FibGVkJykgPyAnZGlzYWJsZWQnIDogJycpXHJcblx0XHRcdCAgLmF0dHIoJ3RhYmluZGV4JywgJHNlbGVjdC5hdHRyKCdkaXNhYmxlZCcpID8gbnVsbCA6ICcwJylcclxuXHRcdFx0ICAuaHRtbCgnPHNwYW4gY2xhc3M9XCJjdXJyZW50XCI+PC9zcGFuPjx1bCBjbGFzcz1cImxpc3RcIj48L3VsPicvKiArIGxhYmVsWzBdLm91dGVySFRNTCovKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duID0gJHNlbGVjdC5uZXh0KCk7XHJcblx0XHRcdHZhciAkb3B0aW9ucyA9ICRzZWxlY3QuZmluZCgnb3B0aW9uJyk7XHJcblx0XHRcdHZhciAkc2VsZWN0ZWQgPSAkc2VsZWN0LmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpO1xyXG5cdFx0XHRcclxuXHRcdFx0JGRyb3Bkb3duLmZpbmQoJy5jdXJyZW50JykuaHRtbCgkc2VsZWN0ZWQuZGF0YSgnZGlzcGxheScpIHx8ICRzZWxlY3RlZC50ZXh0KCkpO1xyXG5cdFx0XHRcclxuXHRcdFx0JG9wdGlvbnMuZWFjaChmdW5jdGlvbihpKSB7XHJcblx0XHRcdCAgdmFyICRvcHRpb24gPSAkKHRoaXMpO1xyXG5cdFx0XHQgIHZhciBkaXNwbGF5ID0gJG9wdGlvbi5kYXRhKCdkaXNwbGF5Jyk7XHJcblx0ICBcclxuXHRcdFx0ICBpZiAoJG9wdGlvbi52YWwoKSAhPSBudWxsICYmICRvcHRpb24udmFsKCkgIT0gJycpIHtcclxuXHRcdFx0XHQgICRkcm9wZG93bi5maW5kKCd1bCcpLmFwcGVuZCgkKCc8bGk+PC9saT4nKVxyXG5cdFx0XHRcdFx0LmF0dHIoJ2RhdGEtdmFsdWUnLCAkb3B0aW9uLnZhbCgpKVxyXG5cdFx0XHRcdFx0LmF0dHIoJ2RhdGEtZGlzcGxheScsIChkaXNwbGF5IHx8IG51bGwpKVxyXG5cdFx0XHRcdFx0LmFkZENsYXNzKCdvcHRpb24nICtcclxuXHRcdFx0XHRcdCAgKCRvcHRpb24uaXMoJzpzZWxlY3RlZCcpID8gJyBzZWxlY3RlZCcgOiAnJykgK1xyXG5cdFx0XHRcdFx0ICAoJG9wdGlvbi5pcygnOmRpc2FibGVkJykgPyAnIGRpc2FibGVkJyA6ICcnKSlcclxuXHRcdFx0XHRcdC5odG1sKCRvcHRpb24udGV4dCgpKVxyXG5cdFx0XHRcdCAgKTtcclxuXHRcdFx0ICB9XHJcblx0XHRcdH0pO1xyXG5cdFx0ICB9XHJcblx0XHQgIFxyXG5cdFx0ICAvKiBFdmVudCBsaXN0ZW5lcnMgKi9cclxuXHRcdCAgXHJcblx0XHQgIC8vIFVuYmluZCBleGlzdGluZyBldmVudHMgaW4gY2FzZSB0aGF0IHRoZSBwbHVnaW4gaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYmVmb3JlXHJcblx0XHQgICQoZG9jdW1lbnQpLm9mZignLm5pY2Vfc2VsZWN0Jyk7XHJcblx0XHQgIFxyXG5cdFx0ICAvLyBPcGVuL2Nsb3NlXHJcblx0XHQgICQoZG9jdW1lbnQpLm9uKCdjbGljay5uaWNlX3NlbGVjdCcsICcubmljZS1zZWxlY3QnLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHR2YXIgJGRyb3Bkb3duID0gJCh0aGlzKTtcclxuXHRcdFx0XHJcblx0XHRcdCQoJy5uaWNlLXNlbGVjdCcpLm5vdCgkZHJvcGRvd24pLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcblx0XHRcdCRkcm9wZG93bi50b2dnbGVDbGFzcygnb3BlbicpO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCRkcm9wZG93bi5oYXNDbGFzcygnb3BlbicpKSB7XHJcblx0XHRcdCAgJGRyb3Bkb3duLmZpbmQoJy5vcHRpb24nKTsgIFxyXG5cdFx0XHQgICRkcm9wZG93bi5maW5kKCcuZm9jdXMnKS5yZW1vdmVDbGFzcygnZm9jdXMnKTtcclxuXHRcdFx0ICAkZHJvcGRvd24uZmluZCgnLnNlbGVjdGVkJykuYWRkQ2xhc3MoJ2ZvY3VzJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdCAgJGRyb3Bkb3duLmZvY3VzKCk7XHJcblx0XHRcdH1cclxuXHRcdCAgfSk7XHJcblx0XHQgIFxyXG5cdFx0ICAvLyBDbG9zZSB3aGVuIGNsaWNraW5nIG91dHNpZGVcclxuXHRcdCAgJChkb2N1bWVudCkub24oJ2NsaWNrLm5pY2Vfc2VsZWN0JywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHRcdFx0aWYgKCQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCcubmljZS1zZWxlY3QnKS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0ICAkKCcubmljZS1zZWxlY3QnKS5yZW1vdmVDbGFzcygnb3BlbicpLmZpbmQoJy5vcHRpb24nKTsgIFxyXG5cdFx0XHR9XHJcblx0XHQgIH0pO1xyXG5cdFx0ICBcclxuXHRcdCAgLy8gT3B0aW9uIGNsaWNrXHJcblx0XHQgICQoZG9jdW1lbnQpLm9uKCdjbGljay5uaWNlX3NlbGVjdCcsICcubmljZS1zZWxlY3QgLm9wdGlvbjpub3QoLmRpc2FibGVkKScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0XHRcdHZhciAkb3B0aW9uID0gJCh0aGlzKTtcclxuXHRcdFx0dmFyICRkcm9wZG93biA9ICRvcHRpb24uY2xvc2VzdCgnLm5pY2Utc2VsZWN0Jyk7XHJcblx0XHRcdCRkcm9wZG93bi5hZGRDbGFzcygnaGFzLWlucHV0Jyk7XHJcblx0XHRcdFxyXG5cdFx0XHQkZHJvcGRvd24uZmluZCgnLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdCRvcHRpb24uYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgdGV4dCA9ICRvcHRpb24uZGF0YSgnZGlzcGxheScpIHx8ICRvcHRpb24udGV4dCgpO1xyXG5cdFx0XHQkZHJvcGRvd24uZmluZCgnLmN1cnJlbnQnKS50ZXh0KHRleHQpO1xyXG5cdFx0XHRcclxuXHRcdFx0JGRyb3Bkb3duLnByZXYoJ3NlbGVjdCcpLnZhbCgkb3B0aW9uLmRhdGEoJ3ZhbHVlJykpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdFx0ICB9KTtcclxuXHQgIFxyXG5cdFx0ICAvLyBLZXlib2FyZCBldmVudHNcclxuXHRcdCAgJChkb2N1bWVudCkub24oJ2tleWRvd24ubmljZV9zZWxlY3QnLCAnLm5pY2Utc2VsZWN0JywgZnVuY3Rpb24oZXZlbnQpIHsgICAgXHJcblx0XHRcdHZhciAkZHJvcGRvd24gPSAkKHRoaXMpO1xyXG5cdFx0XHR2YXIgJGZvY3VzZWRfb3B0aW9uID0gJCgkZHJvcGRvd24uZmluZCgnLmZvY3VzJykgfHwgJGRyb3Bkb3duLmZpbmQoJy5saXN0IC5vcHRpb24uc2VsZWN0ZWQnKSk7XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBTcGFjZSBvciBFbnRlclxyXG5cdFx0XHRpZiAoZXZlbnQua2V5Q29kZSA9PSAzMiB8fCBldmVudC5rZXlDb2RlID09IDEzKSB7XHJcblx0XHRcdCAgaWYgKCRkcm9wZG93bi5oYXNDbGFzcygnb3BlbicpKSB7XHJcblx0XHRcdFx0JGZvY3VzZWRfb3B0aW9uLnRyaWdnZXIoJ2NsaWNrJyk7XHJcblx0XHRcdCAgfSBlbHNlIHtcclxuXHRcdFx0XHQkZHJvcGRvd24udHJpZ2dlcignY2xpY2snKTtcclxuXHRcdFx0ICB9XHJcblx0XHRcdCAgcmV0dXJuIGZhbHNlO1xyXG5cdFx0XHQvLyBEb3duXHJcblx0XHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSA0MCkge1xyXG5cdFx0XHQgIGlmICghJGRyb3Bkb3duLmhhc0NsYXNzKCdvcGVuJykpIHtcclxuXHRcdFx0XHQkZHJvcGRvd24udHJpZ2dlcignY2xpY2snKTtcclxuXHRcdFx0ICB9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciAkbmV4dCA9ICRmb2N1c2VkX29wdGlvbi5uZXh0QWxsKCcub3B0aW9uOm5vdCguZGlzYWJsZWQpJykuZmlyc3QoKTtcclxuXHRcdFx0XHRpZiAoJG5leHQubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdCAgJGRyb3Bkb3duLmZpbmQoJy5mb2N1cycpLnJlbW92ZUNsYXNzKCdmb2N1cycpO1xyXG5cdFx0XHRcdCAgJG5leHQuYWRkQ2xhc3MoJ2ZvY3VzJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQgIH1cclxuXHRcdFx0ICByZXR1cm4gZmFsc2U7XHJcblx0XHRcdC8vIFVwXHJcblx0XHRcdH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PSAzOCkge1xyXG5cdFx0XHQgIGlmICghJGRyb3Bkb3duLmhhc0NsYXNzKCdvcGVuJykpIHtcclxuXHRcdFx0XHQkZHJvcGRvd24udHJpZ2dlcignY2xpY2snKTtcclxuXHRcdFx0ICB9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciAkcHJldiA9ICRmb2N1c2VkX29wdGlvbi5wcmV2QWxsKCcub3B0aW9uOm5vdCguZGlzYWJsZWQpJykuZmlyc3QoKTtcclxuXHRcdFx0XHRpZiAoJHByZXYubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdCAgJGRyb3Bkb3duLmZpbmQoJy5mb2N1cycpLnJlbW92ZUNsYXNzKCdmb2N1cycpO1xyXG5cdFx0XHRcdCAgJHByZXYuYWRkQ2xhc3MoJ2ZvY3VzJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQgIH1cclxuXHRcdFx0ICByZXR1cm4gZmFsc2U7XHJcblx0XHRcdC8vIEVzY1xyXG5cdFx0XHR9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gMjcpIHtcclxuXHRcdFx0ICBpZiAoJGRyb3Bkb3duLmhhc0NsYXNzKCdvcGVuJykpIHtcclxuXHRcdFx0XHQkZHJvcGRvd24udHJpZ2dlcignY2xpY2snKTtcclxuXHRcdFx0ICB9XHJcblx0XHRcdC8vIFRhYlxyXG5cdFx0XHR9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT0gOSkge1xyXG5cdFx0XHQgIGlmICgkZHJvcGRvd24uaGFzQ2xhc3MoJ29wZW4nKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0ICB9XHJcblx0XHRcdH1cclxuXHRcdCAgfSk7XHJcblx0ICBcclxuXHRcdCAgLy8gRGV0ZWN0IENTUyBwb2ludGVyLWV2ZW50cyBzdXBwb3J0LCBmb3IgSUUgPD0gMTAuIEZyb20gTW9kZXJuaXpyLlxyXG5cdFx0ICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykuc3R5bGU7XHJcblx0XHQgIHN0eWxlLmNzc1RleHQgPSAncG9pbnRlci1ldmVudHM6YXV0byc7XHJcblx0XHQgIGlmIChzdHlsZS5wb2ludGVyRXZlbnRzICE9PSAnYXV0bycpIHtcclxuXHRcdFx0JCgnaHRtbCcpLmFkZENsYXNzKCduby1jc3Nwb2ludGVyZXZlbnRzJyk7XHJcblx0XHQgIH1cclxuXHJcblx0XHRcdC8qdmFyIGxhYmVsID0gJGRyb3Bkb3duLnF1ZXJ5U2VsZWN0b3IoJ2xhYmVsJyk7XHJcblx0XHRcdHZhciBjb250YWluZXIgPSAkZHJvcGRvd24uY2xvc2VzdCgnLmdmaWVsZCcpO1xyXG5cdFx0XHRjb250YWluZXIucHJlcGVuZChsYWJlbCk7Ki9cclxuXHJcblxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHQgIFxyXG5cdFx0fTtcclxuXHQgIFxyXG5cdCAgfShqUXVlcnkpKTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFRSxXQUFTQSxDQUFDLEVBQUU7RUFFWkEsQ0FBQyxDQUFDQyxFQUFFLENBQUNDLFVBQVUsR0FBRyxVQUFTQyxNQUFNLEVBQUU7SUFFakM7SUFDQSxJQUFJLE9BQU9BLE1BQU0sSUFBSSxRQUFRLEVBQUU7TUFDaEMsSUFBSUEsTUFBTSxJQUFJLFFBQVEsRUFBRTtRQUN0QixJQUFJLENBQUNDLElBQUksQ0FBQyxZQUFXO1VBQ3RCLElBQUlDLE9BQU8sR0FBR0wsQ0FBQyxDQUFDLElBQUksQ0FBQztVQUNyQixJQUFJTSxTQUFTLEdBQUdOLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQ08sSUFBSSxDQUFDLGNBQWMsQ0FBQztVQUM1QyxJQUFJQyxJQUFJLEdBQUdGLFNBQVMsQ0FBQ0csUUFBUSxDQUFDLE1BQU0sQ0FBQztVQUVyQyxJ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\n//# sourceURL=webpack-internal:///827\n")}},__webpack_module_cache__={};function __webpack_require__(c){var l=__webpack_module_cache__[c];if(void 0!==l)return l.exports;var n=__webpack_module_cache__[c]={exports:{}};return __webpack_modules__[c](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__(839)})();